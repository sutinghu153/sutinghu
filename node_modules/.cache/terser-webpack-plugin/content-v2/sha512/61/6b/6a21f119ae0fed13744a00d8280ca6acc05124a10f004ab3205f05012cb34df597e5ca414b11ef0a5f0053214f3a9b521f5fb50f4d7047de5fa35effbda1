{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{402:function(t,a,s){\"use strict\";s.r(a);var n=s(54),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":t.$parent.slotKey}},[s(\"h1\",{attrs:{id:\"io-系统开发\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#io-系统开发\"}},[t._v(\"#\")]),t._v(\" IO 系统开发\")]),t._v(\" \"),s(\"h2\",{attrs:{id:\"一、-linux的五大功能\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#一、-linux的五大功能\"}},[t._v(\"#\")]),t._v(\" 一、 Linux的五大功能\")]),t._v(\" \"),s(\"p\",[t._v(\"文件管理\")]),t._v(\" \"),s(\"p\",[t._v(\"进程管理\")]),t._v(\" \"),s(\"p\",[t._v(\"内存管理\")]),t._v(\" \"),s(\"p\",[t._v(\"网络管理\")]),t._v(\" \"),s(\"h2\",{attrs:{id:\"二、-linux高级编程的特点\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#二、-linux高级编程的特点\"}},[t._v(\"#\")]),t._v(\" 二、 Linux高级编程的特点\")]),t._v(\" \"),s(\"p\",[t._v(\"涉及到内核向用户空间提供的接口\")]),t._v(\" \"),s(\"ol\",[s(\"li\",[t._v(\"内核要为应用程序服务，否则应用程序很单一\")]),t._v(\" \"),s(\"li\",[t._v(\"内核是稳定的代码，同时也要为多个用户空间服务，为了防止用户空间某些用户程序使用内核代码产生其它问题\")])]),t._v(\" \"),s(\"p\",[t._v(\"内核向用户空间提供接口，同时在接口上添加保护，这样会使符合接口函数的应用程序提供服务，同时也保护内核。\")]),t._v(\" \"),s(\"h2\",{attrs:{id:\"三、系统编程的三要素\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#三、系统编程的三要素\"}},[t._v(\"#\")]),t._v(\" 三、系统编程的三要素\")]),t._v(\" \"),s(\"p\",[t._v(\"接口\")]),t._v(\" \"),s(\"p\",[t._v(\"参数\")]),t._v(\" \"),s(\"p\",[t._v(\"返回值\")]),t._v(\" \"),s(\"h2\",{attrs:{id:\"四、文件输入和输出\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#四、文件输入和输出\"}},[t._v(\"#\")]),t._v(\" 四、文件输入和输出\")]),t._v(\" \"),s(\"h3\",{attrs:{id:\"_01-文件io\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_01-文件io\"}},[t._v(\"#\")]),t._v(\" 01 文件IO\")]),t._v(\" \"),s(\"p\",[t._v(\"应用层：输入，内核输至应用层。输出，应用层输至内核层\")]),t._v(\" \"),s(\"p\",[t._v(\"内核层：\")]),t._v(\" \"),s(\"p\",[t._v(\"硬件层\")]),t._v(\" \"),s(\"p\",[t._v(\"是从用户空间角度考虑\")]),t._v(\" \"),s(\"p\",[t._v(\"input:输入，内核输至应用层\")]),t._v(\" \"),s(\"p\",[t._v(\"output:输出，应用层输至内核层\")]),t._v(\" \"),s(\"p\",[t._v(\"相关函数\")]),t._v(\" \"),s(\"ul\",[s(\"li\",[t._v(\"open：打开内核的文件\")]),t._v(\" \"),s(\"li\",[t._v(\"read：读取内核中的文件\")]),t._v(\" \"),s(\"li\",[t._v(\"write：写入内核中的文件\")]),t._v(\" \"),s(\"li\",[t._v(\"close：关闭内核中的文件\")]),t._v(\" \"),s(\"li\",[t._v(\"leek：调整读写的位置指针\")])]),t._v(\" \"),s(\"h3\",{attrs:{id:\"_02-相关函数\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_02-相关函数\"}},[t._v(\"#\")]),t._v(\" 02 相关函数\")]),t._v(\" \"),s(\"h4\",{attrs:{id:\"_01-open函数\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_01-open函数\"}},[t._v(\"#\")]),t._v(\" 01 open函数\")]),t._v(\" \"),s(\"h5\",{attrs:{id:\"函数功能\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#函数功能\"}},[t._v(\"#\")]),t._v(\" 函数功能\")]),t._v(\" \"),s(\"ul\",[s(\"li\",[t._v(\"打开一个文件\")]),t._v(\" \"),s(\"li\",[t._v(\"创建一个文件\")])]),t._v(\" \"),s(\"h5\",{attrs:{id:\"参数列表\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#参数列表\"}},[t._v(\"#\")]),t._v(\" 参数列表\")]),t._v(\" \"),s(\"table\",[s(\"thead\",[s(\"tr\",[s(\"th\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"参数名\")]),t._v(\" \"),s(\"th\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"参数说明\")])])]),t._v(\" \"),s(\"tbody\",[s(\"tr\",[s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"char*\")]),t._v(\" \"),s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"包含有文件名和路径\")])]),t._v(\" \"),s(\"tr\",[s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"flag\")]),t._v(\" \"),s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"操作文件\")])]),t._v(\" \"),s(\"tr\",[s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"mode\")]),t._v(\" \"),s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"创建文件的权限\")])])])]),t._v(\" \"),s(\"h5\",{attrs:{id:\"参数用法\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#参数用法\"}},[t._v(\"#\")]),t._v(\" \"),s(\"strong\",[t._v(\"参数用法\")])]),t._v(\" \"),s(\"table\",[s(\"thead\",[s(\"tr\",[s(\"th\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"flag\")]),t._v(\" \"),s(\"th\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"功能\")])])]),t._v(\" \"),s(\"tbody\",[s(\"tr\",[s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"O_RDONLY\")]),t._v(\" \"),s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"只读\")])]),t._v(\" \"),s(\"tr\",[s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"O_WRONLY\")]),t._v(\" \"),s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"只写\")])]),t._v(\" \"),s(\"tr\",[s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"O_RDWR\")]),t._v(\" \"),s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"读写\")])]),t._v(\" \"),s(\"tr\",[s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"O_CREAT\")]),t._v(\" \"),s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"创建一个文件\")])]),t._v(\" \"),s(\"tr\",[s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"O_TRUNC\")]),t._v(\" \"),s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"打开文件（会把已经存在的内容删除）\")])]),t._v(\" \"),s(\"tr\",[s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"O_APPEND\")]),t._v(\" \"),s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"追加方式用于打开文件（不会删除已存在的内容）\")])]),t._v(\" \"),s(\"tr\",[s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"O_EXCL\")]),t._v(\" \"),s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"如果创建一个文件时存在，则返回错误消息，该参数用于测试文件是否存在\")])])])]),t._v(\" \"),s(\"h5\",{attrs:{id:\"返回值\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#返回值\"}},[t._v(\"#\")]),t._v(\" \"),s(\"strong\",[t._v(\"返回值\")])]),t._v(\" \"),s(\"ul\",[s(\"li\",[t._v(\"成功：文件描述符，它是一个非负的正整数，即文件的ID号，相当于人的身份证号\")]),t._v(\" \"),s(\"li\",[t._v(\"失败：-1\")])]),t._v(\" \"),s(\"h5\",{attrs:{id:\"关于文件描述符\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#关于文件描述符\"}},[t._v(\"#\")]),t._v(\" \"),s(\"strong\",[t._v(\"关于文件描述符\")])]),t._v(\" \"),s(\"p\",[t._v(\"ls -lai 可以获取文件描述符。\")]),t._v(\" \"),s(\"ul\",[s(\"li\",[t._v(\"每个文件的描述符并不是固定的\")]),t._v(\" \"),s(\"li\",[t._v(\"文件描述符总是从3开始，因为系统创建的进程默认为打开 3 个文件\\n\"),s(\"ul\",[s(\"li\",[t._v(\"标准输入（0）\")]),t._v(\" \"),s(\"li\",[t._v(\"标准输出（1）\")]),t._v(\" \"),s(\"li\",[t._v(\"标准错误（2）\")])])]),t._v(\" \"),s(\"li\",[t._v(\"文件描述符不是递增产生的，并且可以被回收且进行再次分配\")]),t._v(\" \"),s(\"li\",[t._v(\"文件描述符是非负整型\")]),t._v(\" \"),s(\"li\",[t._v(\"每个进程单独维护了一个文件描述符的集合\")]),t._v(\" \"),s(\"li\",[t._v(\"文件描述符其实就是file结构体数组的索引\")])]),t._v(\" \"),s(\"blockquote\",[s(\"p\",[s(\"a\",{attrs:{href:\"https://zhuanlan.zhihu.com/p/108744787\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"文件描述符了解一下 - 知乎 (zhihu.com)\"),s(\"OutboundLink\")],1)])]),t._v(\" \"),s(\"h5\",{attrs:{id:\"设计touch函数\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#设计touch函数\"}},[t._v(\"#\")]),t._v(\" \"),s(\"strong\",[t._v(\"设计touch函数\")])]),t._v(\" \"),s(\"div\",{staticClass:\"language-c extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-c\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// touch函数的实现\")]),t._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// 文件创建函数\")]),t._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token macro property\"}},[s(\"span\",{pre:!0,attrs:{class:\"token directive-hash\"}},[t._v(\"#\")]),s(\"span\",{pre:!0,attrs:{class:\"token directive keyword\"}},[t._v(\"include\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"stdio.h\"')])]),t._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token macro property\"}},[s(\"span\",{pre:!0,attrs:{class:\"token directive-hash\"}},[t._v(\"#\")]),s(\"span\",{pre:!0,attrs:{class:\"token directive keyword\"}},[t._v(\"include\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"unistd.h\"')])]),t._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token macro property\"}},[s(\"span\",{pre:!0,attrs:{class:\"token directive-hash\"}},[t._v(\"#\")]),s(\"span\",{pre:!0,attrs:{class:\"token directive keyword\"}},[t._v(\"include\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"fcntl.h\"')])]),t._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"int\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"main\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"int\")]),t._v(\" argc\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"char\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"*\")]),t._v(\"argv\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"int\")]),t._v(\" fd\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\tfd \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"open\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"argv\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),s(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"1\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"O_CREAT \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"|\")]),t._v(\" O_RDWR\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),s(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"0777\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"if\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"fd\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"<\")]),s(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"0\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n\\t\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"printf\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"创建了一个文件 %s \"')]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"argv\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),s(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"1\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"return\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"-\")]),s(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"1\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\\t\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"printf\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"创建了一个文件 %s sucess fd=%d\\\\n \"')]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"argv\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),s(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"1\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"fd\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\t\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"close\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"fd\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\t\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"return\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"0\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"  \\n\")])])]),s(\"h5\",{attrs:{id:\"umask【权限掩码】\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#umask【权限掩码】\"}},[t._v(\"#\")]),t._v(\" \"),s(\"strong\",[t._v(\"umask\")]),t._v(\"【权限掩码】\")]),t._v(\" \"),s(\"ul\",[s(\"li\",[s(\"p\",[t._v(\"​\\tlinux umask命令指定在建立文件时预设的权限掩码。\")])]),t._v(\" \"),s(\"li\",[s(\"p\",[t._v(\"​\\tumask可用来设定[权限掩码]。[权限掩码]是由3个八进制的数字所组成，将现有的存取权限减掉权限掩码后，即可产生建立文件时预设的权限。\")])])]),t._v(\" \"),s(\"h5\",{attrs:{id:\"如当掩码为022时\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#如当掩码为022时\"}},[t._v(\"#\")]),t._v(\" \"),s(\"strong\",[t._v(\"如当掩码为022时：\")])]),t._v(\" \"),s(\"div\",{staticClass:\"language- extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[s(\"code\",[t._v(\"掩码：将权限掩掉了\\n\\n777：111 111 111 本身权限\\n\\n022：000 010 010 掩码\\n\\n755：111 101 101 掩码结果\\n\")])])]),s(\"h4\",{attrs:{id:\"_02-read-write函数\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_02-read-write函数\"}},[t._v(\"#\")]),t._v(\" 02 read&write函数\")]),t._v(\" \"),s(\"p\",[t._v(\"向Linux内核中写入流。内核中存在很多文件，将流写入某个文件时，为write。\")]),t._v(\" \"),s(\"p\",[t._v(\"将流从文件中读取时，为read。\")]),t._v(\" \"),s(\"h5\",{attrs:{id:\"参数与返回值\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#参数与返回值\"}},[t._v(\"#\")]),t._v(\" 参数与返回值\")]),t._v(\" \"),s(\"p\",[t._v(\"*\"),s(\"em\",[t._v(\"write(int fd,void \"),s(\"em\",[t._v(\"buf,size_t touch)\")])])]),t._v(\" \"),s(\"p\",[t._v(\"*\"),s(\"em\",[t._v(\"read(int fd,void \"),s(\"em\",[t._v(\"buf,size_t touch)\")])])]),t._v(\" \"),s(\"table\",[s(\"thead\",[s(\"tr\",[s(\"th\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"函数\")]),t._v(\" \"),s(\"th\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"条件\")]),t._v(\" \"),s(\"th\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"具体描述\")])])]),t._v(\" \"),s(\"tbody\",[s(\"tr\",[s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"write\")]),t._v(\" \"),s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"写到哪里去,文件描述符\")]),t._v(\" \"),s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"int fld\")])]),t._v(\" \"),s(\"tr\",[s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"write\")]),t._v(\" \"),s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"写入什么,存放要写入的数据的缓冲区首地址\")]),t._v(\" \"),s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"void *buff\")])]),t._v(\" \"),s(\"tr\",[s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"write\")]),t._v(\" \"),s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"写多少个,想要写入的字节数\")]),t._v(\" \"),s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"size t touch\")])]),t._v(\" \"),s(\"tr\",[s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"write\")]),t._v(\" \"),s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"返回值\")]),t._v(\" \"),s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"实际写入的字节数\")])]),t._v(\" \"),s(\"tr\",[s(\"td\",{staticStyle:{\"text-align\":\"center\"}}),t._v(\" \"),s(\"td\",{staticStyle:{\"text-align\":\"center\"}}),t._v(\" \"),s(\"td\",{staticStyle:{\"text-align\":\"center\"}})]),t._v(\" \"),s(\"tr\",[s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"read\")]),t._v(\" \"),s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"从哪里读,文件描述符\")]),t._v(\" \"),s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"int fld\")])]),t._v(\" \"),s(\"tr\",[s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"read\")]),t._v(\" \"),s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"读到哪里去,存放要写入的数据的缓冲区首地址\")]),t._v(\" \"),s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"void *buff\")])]),t._v(\" \"),s(\"tr\",[s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"read\")]),t._v(\" \"),s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"想读多少个,想要写入的字节数\")]),t._v(\" \"),s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"size t touch\")])]),t._v(\" \"),s(\"tr\",[s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"read\")]),t._v(\" \"),s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"返回值\")]),t._v(\" \"),s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"实际读出的字节数\")])])])]),t._v(\" \"),s(\"h5\",{attrs:{id:\"write函数测试\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#write函数测试\"}},[t._v(\"#\")]),t._v(\" \"),s(\"strong\",[t._v(\"write函数测试\")])]),t._v(\" \"),s(\"div\",{staticClass:\"language-c extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-c\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token macro property\"}},[s(\"span\",{pre:!0,attrs:{class:\"token directive-hash\"}},[t._v(\"#\")]),s(\"span\",{pre:!0,attrs:{class:\"token directive keyword\"}},[t._v(\"include\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"stdio.h\"')])]),t._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token macro property\"}},[s(\"span\",{pre:!0,attrs:{class:\"token directive-hash\"}},[t._v(\"#\")]),s(\"span\",{pre:!0,attrs:{class:\"token directive keyword\"}},[t._v(\"include\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"unistd.h\"')])]),t._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token macro property\"}},[s(\"span\",{pre:!0,attrs:{class:\"token directive-hash\"}},[t._v(\"#\")]),s(\"span\",{pre:!0,attrs:{class:\"token directive keyword\"}},[t._v(\"include\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"fcntl.h\"')])]),t._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"int\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"main\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"int\")]),t._v(\" argc\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"char\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"*\")]),t._v(\"argv\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"int\")]),t._v(\" fd\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"char\")]),t._v(\" buf\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"hello world\"')]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"int\")]),t._v(\" wr_ret\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\tfd \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"open\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"./a.c\"')]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"O_RDWR\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"|\")]),t._v(\"O_TRUNC\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\t\\n\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"if\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"fd\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"<\")]),s(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"0\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n\\t\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"printf\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"open file a.c failure\\\\n\"')]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\t\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"return\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"-\")]),s(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"1\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\\t\\n\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"printf\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"open file a.c success fd = %d\\\\n\"')]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"fd\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\twr_ret \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"write\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"fd\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"buf\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"sizeof\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"buf\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"printf\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"写入的字节数为 ： %d\\\\n\"')]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"wr_ret\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"close\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"fd\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"return\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"0\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \\n\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\")])])]),s(\"h4\",{attrs:{id:\"_03-close函数\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_03-close函数\"}},[t._v(\"#\")]),t._v(\" 03 close函数\")]),t._v(\" \"),s(\"p\",[s(\"strong\",[t._v(\"int close(int fd);\")])]),t._v(\" \"),s(\"h5\",{attrs:{id:\"参数与返回值-2\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#参数与返回值-2\"}},[t._v(\"#\")]),t._v(\" 参数与返回值\")]),t._v(\" \"),s(\"ul\",[s(\"li\",[t._v(\"fd 文件描述符\")]),t._v(\" \"),s(\"li\",[t._v(\"调用成功返回0，否则返回-1并设置errno；\")])]),t._v(\" \"),s(\"h4\",{attrs:{id:\"_04-lseek函数\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_04-lseek函数\"}},[t._v(\"#\")]),t._v(\" 04 lseek函数\")]),t._v(\" \"),s(\"h5\",{attrs:{id:\"功能\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#功能\"}},[t._v(\"#\")]),t._v(\" 功能\")]),t._v(\" \"),s(\"p\",[t._v(\"调整读写的位置指针。\")]),t._v(\" \"),s(\"p\",[s(\"strong\",[t._v(\"lseek(int fd,off_t offset,int whence)\")])]),t._v(\" \"),s(\"h5\",{attrs:{id:\"参数说明\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#参数说明\"}},[t._v(\"#\")]),t._v(\" 参数说明\")]),t._v(\" \"),s(\"table\",[s(\"thead\",[s(\"tr\",[s(\"th\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"参数名称\")]),t._v(\" \"),s(\"th\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"解释\")]),t._v(\" \"),s(\"th\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"参数说明\")])])]),t._v(\" \"),s(\"tbody\",[s(\"tr\",[s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"int fd\")]),t._v(\" \"),s(\"td\",{staticStyle:{\"text-align\":\"center\"}}),t._v(\" \"),s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"要调整的文件的文件描述符\")])]),t._v(\" \"),s(\"tr\",[s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"off_t offset\")]),t._v(\" \"),s(\"td\",{staticStyle:{\"text-align\":\"center\"}}),t._v(\" \"),s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"偏移量，每读写操作所需要移动的距离，单位是字节的数量，可正可负（前移，后移）\")])]),t._v(\" \"),s(\"tr\",[s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"int whence\")]),t._v(\" \"),s(\"td\",{staticStyle:{\"text-align\":\"center\"}}),t._v(\" \"),s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"当前位置的基点\")])])])]),t._v(\" \"),s(\"h5\",{attrs:{id:\"int-whence-参数说明\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#int-whence-参数说明\"}},[t._v(\"#\")]),t._v(\" int whence 参数说明\")]),t._v(\" \"),s(\"table\",[s(\"thead\",[s(\"tr\",[s(\"th\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"参数\")]),t._v(\" \"),s(\"th\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"说明\")]),t._v(\" \"),s(\"th\",{staticStyle:{\"text-align\":\"center\"}})])]),t._v(\" \"),s(\"tbody\",[s(\"tr\",[s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"SEEK_SET\")]),t._v(\" \"),s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"当前位置的文件开头，新位置为偏移量的大小\")]),t._v(\" \"),s(\"td\",{staticStyle:{\"text-align\":\"center\"}})]),t._v(\" \"),s(\"tr\",[s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"SEEK_CUR\")]),t._v(\" \"),s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"当前位置为文件指针位置，新位置为当前位置加上偏移量\")]),t._v(\" \"),s(\"td\",{staticStyle:{\"text-align\":\"center\"}})]),t._v(\" \"),s(\"tr\",[s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"SEEK_END\")]),t._v(\" \"),s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"当前位置为文件的结尾，新位置为文件的大小加偏移量的大小\")]),t._v(\" \"),s(\"td\",{staticStyle:{\"text-align\":\"center\"}})])])]),t._v(\" \"),s(\"h5\",{attrs:{id:\"返回值-说明\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#返回值-说明\"}},[t._v(\"#\")]),t._v(\" 返回值 说明\")]),t._v(\" \"),s(\"ul\",[s(\"li\",[t._v(\"成功 文件当前的位置\")]),t._v(\" \"),s(\"li\",[t._v(\"失败 -1\")])]),t._v(\" \"),s(\"h5\",{attrs:{id:\"通过lseek实现cp命令\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#通过lseek实现cp命令\"}},[t._v(\"#\")]),t._v(\" 通过lseek实现cp命令\")]),t._v(\" \"),s(\"div\",{staticClass:\"language-c extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-c\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token macro property\"}},[s(\"span\",{pre:!0,attrs:{class:\"token directive-hash\"}},[t._v(\"#\")]),s(\"span\",{pre:!0,attrs:{class:\"token directive keyword\"}},[t._v(\"include\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"stdio.h\"')])]),t._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token macro property\"}},[s(\"span\",{pre:!0,attrs:{class:\"token directive-hash\"}},[t._v(\"#\")]),s(\"span\",{pre:!0,attrs:{class:\"token directive keyword\"}},[t._v(\"include\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"unistd.h\"')])]),t._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token macro property\"}},[s(\"span\",{pre:!0,attrs:{class:\"token directive-hash\"}},[t._v(\"#\")]),s(\"span\",{pre:!0,attrs:{class:\"token directive keyword\"}},[t._v(\"include\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"fcntl.h\"')])]),t._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token macro property\"}},[s(\"span\",{pre:!0,attrs:{class:\"token directive-hash\"}},[t._v(\"#\")]),s(\"span\",{pre:!0,attrs:{class:\"token directive keyword\"}},[t._v(\"include\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"string.h\"')]),t._v(\" \")]),t._v(\"\\n\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"int\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"main\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"int\")]),t._v(\" argc\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"char\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"*\")]),t._v(\"argv\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// 操作文件的文件描述符和目标文件的文件描述符 \")]),t._v(\"\\n\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"int\")]),t._v(\" rd_fd\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"wr_fd\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// 缓冲区 \")]),t._v(\"\\n\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"char\")]),t._v(\" read_buf\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),s(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"128\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),s(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"0\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \\n\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"//  保存文件的文件描述符 \")]),t._v(\"\\n\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"int\")]),t._v(\" rd_ret \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"0\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \\n\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// 如果没有源文件和目标文件路径 \")]),t._v(\"\\n\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"if\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"argc\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"<\")]),s(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"3\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n\\t\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"printf\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"please input src file and des file\\\\n\"')]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\t\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"return\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"-\")]),s(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"1\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\t\\t\\n\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// 打开操作文件 \")]),t._v(\"\\n\\trd_fd \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"open\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"argv\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),s(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"1\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"O_RDONLY\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \\n\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// 如果操作文件报错 \")]),t._v(\"\\n\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"if\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"rd_fd\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"<\")]),s(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"0\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n\\t\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"printf\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"open src file %s failure\\\\n\"')]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"argv\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),s(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"1\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\t\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"return\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"-\")]),s(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"2\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\" \\n\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"printf\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"open src file %s success,rd_fd=%d\\\\n\"')]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"argv\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),s(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"1\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"rd_fd\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// 打开目标文件 \")]),t._v(\"\\n\\twr_fd \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"open\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"argv\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),s(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"2\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"O_WRONLY\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// 如果目标文件报错 \")]),t._v(\"\\n\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"if\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"wr_fd\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"<\")]),s(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"0\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n\\t\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"printf\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"open des file %s failure\\\\n\"')]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"argv\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),s(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"2\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\t\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"return\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"-\")]),s(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"3\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\" \\n\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"printf\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"open des file %s success,rd_fd=%d\\\\n\"')]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"argv\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),s(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"2\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"wr_fd\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// 将内容从源文件copy到目标文件\")]),t._v(\"\\n\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"while\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"1\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n\\t\\trd_ret \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"read\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"rd_fd\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"read_buf\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),s(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"128\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\t\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"if\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"rd_ret\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"<\")]),s(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"128\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n\\t\\t\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"break\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\t\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\\t\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"write\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"wr_fd\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"read_buf\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"rd_ret\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\t\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// 清空缓存 \")]),t._v(\"\\n\\t\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"memset\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"read_buf\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),s(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"0\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),s(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"128\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\" \\n\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"write\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"wr_fd\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"read_buf\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"rd_ret\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"close\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"rd_fd\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"close\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"wr_fd\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"return\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"0\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\\n\\n\")])])]),s(\"h2\",{attrs:{id:\"五、标准io\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#五、标准io\"}},[t._v(\"#\")]),t._v(\" 五、标准IO\")]),t._v(\" \"),s(\"h3\",{attrs:{id:\"_01-标准io与文件io的区别\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_01-标准io与文件io的区别\"}},[t._v(\"#\")]),t._v(\" 01 标准IO与文件IO的区别\")]),t._v(\" \"),s(\"ol\",[s(\"li\",[s(\"p\",[t._v(\"文件IO，是直接调用内核提供的系统调用函数，头文件是unistd.h\")])]),t._v(\" \"),s(\"li\",[s(\"p\",[t._v(\"标准IO，是间接调用系统调用函数，头文件是stdio.h\")]),t._v(\" \"),s(\"div\",{staticClass:\"language- extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[s(\"code\",[t._v(\"getchar(),putchar()--单个字符\\ngets(),puts()--多个字符\\nscanf(),printf()--多个或单个都可\\n\\n输入输出相关的函数，都是和标准的输入（键盘），标准的输出（显示器）相关，与一些普通文件的读写没有关系，即这些函数不能读写普通文件。\\n\")])])])]),t._v(\" \"),s(\"li\",[s(\"p\",[t._v(\"标准的IO中的相关函数，不仅可以读写普通文件，也可以向标准的输入或标准的输出中读写。\")])]),t._v(\" \"),s(\"li\",[s(\"p\",[t._v(\"Linux中做文件IO最常用到的5个函数是： open ,  close ,  read ,  write 和 lseek ，不是ISO C的组成部分，这5个函数是\"),s(\"strong\",[t._v(\"不带缓冲的IO\")]),t._v(\"，也即每个read和write都调用了内核的一个系统调用。\")])]),t._v(\" \"),s(\"li\",[s(\"p\",[t._v(\"标准IO库提供缓冲功能，减少系统调用。\")])]),t._v(\" \"),s(\"li\",[s(\"p\",[t._v(\"文件IO函数直接操作内核函数，标准IO函数先操作C库函数，获得一定的缓冲。\")])])]),t._v(\" \"),s(\"h3\",{attrs:{id:\"_02-三个缓存的概念\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_02-三个缓存的概念\"}},[t._v(\"#\")]),t._v(\" 02 三个缓存的概念\")]),t._v(\" \"),s(\"ol\",[s(\"li\",[t._v(\"用户空间的缓存，user buff，用户空间的缓存（用户使用的缓存）\")]),t._v(\" \"),s(\"li\",[t._v(\"内核空间的缓存，kernel buff，内核在使用时会开辟内核缓存(最底层的缓存)\")]),t._v(\" \"),s(\"li\",[t._v(\"库缓存，lib buff，标准IO中调用库函数时的缓存（缓冲缓存的缓存）\")])]),t._v(\" \"),s(\"h3\",{attrs:{id:\"_03-缓存的特征\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_03-缓存的特征\"}},[t._v(\"#\")]),t._v(\" 03 缓存的特征\")]),t._v(\" \"),s(\"ol\",[s(\"li\",[t._v(\"printf 函数在满足一定的条件，即 遇到 \\\\n 时，会将库缓存的内容写到内核中，即调用了系统调用函数。\")]),t._v(\" \"),s(\"li\",[t._v(\"库缓存写满时，会调用系统调用函数。库缓存大小为 1024 byte.\")])]),t._v(\" \"),s(\"h3\",{attrs:{id:\"_04-缓存的分类\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_04-缓存的分类\"}},[t._v(\"#\")]),t._v(\" 04 缓存的分类\")]),t._v(\" \"),s(\"h4\",{attrs:{id:\"全缓存\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#全缓存\"}},[t._v(\"#\")]),t._v(\" 全缓存\")]),t._v(\" \"),s(\"p\",[t._v(\"全缓冲指的是系统在填满标准IO缓冲区之后才进行实际的IO操作；注意，对于驻留在磁盘上的文件来说通常是由标准IO库实施全缓冲。\")]),t._v(\" \"),s(\"h4\",{attrs:{id:\"行缓存\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#行缓存\"}},[t._v(\"#\")]),t._v(\" 行缓存\")]),t._v(\" \"),s(\"p\",[t._v(\"遇到 \"),s(\"strong\",[t._v(\"\\\\n\")]),t._v(\" 时会将库缓存中的内容写入内核中。行缓存1024byte.\")]),t._v(\" \"),s(\"h4\",{attrs:{id:\"无缓存\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#无缓存\"}},[t._v(\"#\")]),t._v(\" 无缓存\")]),t._v(\" \"),s(\"p\",[t._v(\"无缓冲指的是标准IO库不对字符进行缓冲存储；注意，标准出错流stderr通常是无缓冲的。\")]),t._v(\" \"),s(\"h4\",{attrs:{id:\"缓冲区\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#缓冲区\"}},[t._v(\"#\")]),t._v(\" 缓冲区\")]),t._v(\" \"),s(\"p\",[t._v(\"缓冲区是库函数在系统调用的上层，是对系统调用的封装。\")]),t._v(\" \"),s(\"h3\",{attrs:{id:\"_05-相关的函数\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_05-相关的函数\"}},[t._v(\"#\")]),t._v(\" 05 相关的函数\")]),t._v(\" \"),s(\"h4\",{attrs:{id:\"打开-创建-fopen\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#打开-创建-fopen\"}},[t._v(\"#\")]),t._v(\" 打开/创建 fopen()\")]),t._v(\" \"),s(\"p\",[t._v(\"FILE *fopen(const char *path,const char *mode);\")]),t._v(\" \"),s(\"h5\",{attrs:{id:\"返回值-2\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#返回值-2\"}},[t._v(\"#\")]),t._v(\" 返回值\")]),t._v(\" \"),s(\"p\",[t._v(\"FILE* 文件流指针 类似于IO中的文件描述符\")]),t._v(\" \"),s(\"p\",[t._v(\"FILE定义：struct_IO_FILE，在/usr/include/libio.h中包含读写缓存的首地址、大小、位置指针等。\")]),t._v(\" \"),s(\"ul\",[s(\"li\",[t._v(\"stdin 标准输入流\")]),t._v(\" \"),s(\"li\",[t._v(\"stdout 标准输出流\")]),t._v(\" \"),s(\"li\",[t._v(\"stder 标准出错流\")])]),t._v(\" \"),s(\"h5\",{attrs:{id:\"参数\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#参数\"}},[t._v(\"#\")]),t._v(\" 参数\")]),t._v(\" \"),s(\"table\",[s(\"thead\",[s(\"tr\",[s(\"th\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"参数\")]),t._v(\" \"),s(\"th\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"类型\")]),t._v(\" \"),s(\"th\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"说明\")])])]),t._v(\" \"),s(\"tbody\",[s(\"tr\",[s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"*path\")]),t._v(\" \"),s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"const char\")]),t._v(\" \"),s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"文件路径\")])]),t._v(\" \"),s(\"tr\",[s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"*mode\")]),t._v(\" \"),s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"r/rb\")]),t._v(\" \"),s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"打开只读文件，该文件必须存在\")])]),t._v(\" \"),s(\"tr\",[s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"*mode\")]),t._v(\" \"),s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"r+或r+b\")]),t._v(\" \"),s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"打开只读写文件，该文件必须存在\")])]),t._v(\" \"),s(\"tr\",[s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"*mode\")]),t._v(\" \"),s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"w/wb\")]),t._v(\" \"),s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"打开只写文件，该文件存在则文件长度为0，即会擦除文件以前内容，若文件不存在则建立该文件\")])]),t._v(\" \"),s(\"tr\",[s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"*mode\")]),t._v(\" \"),s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"w+/w+b/wb+\")]),t._v(\" \"),s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"打开可读写文件，若文件存在则文件长度为0，即会擦除文件以前内容，若文件不存在则建立该文件\")])]),t._v(\" \"),s(\"tr\",[s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"*mode\")]),t._v(\" \"),s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"a/ab\")]),t._v(\" \"),s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"以附加的方式打开只写文件，若文件不存在，则建立该文件，如果文件存在，写入的数据会被加到文件尾，即文件原先的内容会被保留\")])]),t._v(\" \"),s(\"tr\",[s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"*mode\")]),t._v(\" \"),s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"a+/a+b/ab+\")]),t._v(\" \"),s(\"td\",{staticStyle:{\"text-align\":\"center\"}},[t._v(\"以附加的方式打开读写文件，若文件不存在，则建立该文件，如果文件存在，写入的数据会被加到文件尾，即文件原先的内容会被保留\")])])])]),t._v(\" \"),s(\"ul\",[s(\"li\",[t._v(\"b:二进制文件\")]),t._v(\" \"),s(\"li\",[t._v(\"r:只读方式打开文件，文件必须存在\")]),t._v(\" \"),s(\"li\",[t._v(\"w/a:只写方式打开文件，文件不存在则创建（a追加、w删除）\")]),t._v(\" \"),s(\"li\",[t._v(\"r+:读写方式打开文件，文件必须存在\")]),t._v(\" \"),s(\"li\",[t._v(\"+:读写方式打开文件，文件必须存在\")])]),t._v(\" \"),s(\"h4\",{attrs:{id:\"读写函数\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#读写函数\"}},[t._v(\"#\")]),t._v(\" 读写函数\")]),t._v(\" \"),s(\"h5\",{attrs:{id:\"分类\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#分类\"}},[t._v(\"#\")]),t._v(\" 分类\")]),t._v(\" \"),s(\"ol\",[s(\"li\",[t._v(\"行缓存，遇到换行符 \\\\n或写满缓存时 即调用系统调用函数\\n\"),s(\"ol\",[s(\"li\",[t._v(\"读，fgets、gets、printf、fprintf、sprintf\")]),t._v(\" \"),s(\"li\",[t._v(\"写，fputs、puts、scanf\")]),t._v(\" \"),s(\"li\",[t._v(\"按字符的读，fgetc、getc、getchar\")]),t._v(\" \"),s(\"li\",[t._v(\"按字符的写，fputc、putc、putchar\")])])]),t._v(\" \"),s(\"li\",[t._v(\"无缓存，只要用户调用了该函数，就会将其中的内容写入到内核中\")]),t._v(\" \"),s(\"li\",[t._v(\"全缓存，只有写满缓存再调用系统调用函数\\n\"),s(\"ol\",[s(\"li\",[t._v(\"读，fread\")]),t._v(\" \"),s(\"li\",[t._v(\"写，fwrite\")])])])]),t._v(\" \"),s(\"h5\",{attrs:{id:\"fgets和fputs\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#fgets和fputs\"}},[t._v(\"#\")]),t._v(\" fgets和fputs\")]),t._v(\" \"),s(\"p\",[t._v(\"**char *fgets(char \"),s(\"em\",[t._v(\"s,int size,FILE \"),s(\"em\",[t._v(\"stream)\")])])]),t._v(\" \"),s(\"p\",[t._v(\"**int fputs(const char \"),s(\"em\",[t._v(\"s,FILE \"),s(\"em\",[t._v(\"stream)\")])])]),t._v(\" \"),s(\"table\",[s(\"thead\",[s(\"tr\",[s(\"th\",[t._v(\"函数\")]),t._v(\" \"),s(\"th\",[t._v(\"参数\")]),t._v(\" \"),s(\"th\",[t._v(\"说明\")]),t._v(\" \"),s(\"th\",[t._v(\"其它\")])])]),t._v(\" \"),s(\"tbody\",[s(\"tr\",[s(\"td\",[t._v(\"fgets\")]),t._v(\" \"),s(\"td\",[t._v(\"s\")]),t._v(\" \"),s(\"td\",[t._v(\"缓存\")]),t._v(\" \"),s(\"td\",[t._v(\"读到那里去\")])]),t._v(\" \"),s(\"tr\",[s(\"td\",[t._v(\"fgets\")]),t._v(\" \"),s(\"td\",[t._v(\"size\")]),t._v(\" \"),s(\"td\",[t._v(\"读取量\")]),t._v(\" \"),s(\"td\",[t._v(\"读多少个字节\")])]),t._v(\" \"),s(\"tr\",[s(\"td\",[t._v(\"fgets\")]),t._v(\" \"),s(\"td\",[t._v(\"stream\")]),t._v(\" \"),s(\"td\",[t._v(\"读取位置\")]),t._v(\" \"),s(\"td\",[t._v(\"读取的来源\")])]),t._v(\" \"),s(\"tr\",[s(\"td\",[t._v(\"fgets\")]),t._v(\" \"),s(\"td\",[t._v(\"返回值\")]),t._v(\" \"),s(\"td\",[t._v(\"成功则为s缓存的地址或文件尾\")]),t._v(\" \"),s(\"td\",[t._v(\"出错则为null\")])]),t._v(\" \"),s(\"tr\",[s(\"td\"),t._v(\" \"),s(\"td\"),t._v(\" \"),s(\"td\"),t._v(\" \"),s(\"td\")]),t._v(\" \"),s(\"tr\",[s(\"td\",[t._v(\"fputs\")]),t._v(\" \"),s(\"td\",[t._v(\"s\")]),t._v(\" \"),s(\"td\",[t._v(\"缓存\")]),t._v(\" \"),s(\"td\",[t._v(\"写入什么内容\")])]),t._v(\" \"),s(\"tr\",[s(\"td\",[t._v(\"fputs\")]),t._v(\" \"),s(\"td\",[t._v(\"stream\")]),t._v(\" \"),s(\"td\",[t._v(\"写到哪里去\")]),t._v(\" \"),s(\"td\",[t._v(\"目标文件\")])]),t._v(\" \"),s(\"tr\",[s(\"td\",[t._v(\"fputs\")]),t._v(\" \"),s(\"td\",[t._v(\"返回值\")]),t._v(\" \"),s(\"td\",[t._v(\"成功则为非负值\")]),t._v(\" \"),s(\"td\",[t._v(\"出错为EOF\")])])])])])}),[],!1,null,null,null);a.default=e.exports}}]);","extractedComments":[]}