<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>suting-Blogs</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="分布式博客云笔记">
    
    <link rel="preload" href="/assets/css/0.styles.386f4818.css" as="style"><link rel="preload" href="/assets/js/app.e2ddde8e.js" as="script"><link rel="preload" href="/assets/js/2.e74445cb.js" as="script"><link rel="preload" href="/assets/js/45.eab6bf9b.js" as="script"><link rel="prefetch" href="/assets/js/10.383382f2.js"><link rel="prefetch" href="/assets/js/11.79913c72.js"><link rel="prefetch" href="/assets/js/12.18e85316.js"><link rel="prefetch" href="/assets/js/13.78e33ed3.js"><link rel="prefetch" href="/assets/js/14.92269bd7.js"><link rel="prefetch" href="/assets/js/15.acc92b96.js"><link rel="prefetch" href="/assets/js/16.d8716382.js"><link rel="prefetch" href="/assets/js/17.fa6a1da4.js"><link rel="prefetch" href="/assets/js/18.c5024350.js"><link rel="prefetch" href="/assets/js/19.c3e206a7.js"><link rel="prefetch" href="/assets/js/20.6a00e35f.js"><link rel="prefetch" href="/assets/js/21.37c42ff6.js"><link rel="prefetch" href="/assets/js/22.abd1537f.js"><link rel="prefetch" href="/assets/js/23.6a041ee1.js"><link rel="prefetch" href="/assets/js/24.ab067683.js"><link rel="prefetch" href="/assets/js/25.a2de42cd.js"><link rel="prefetch" href="/assets/js/26.efa7caf3.js"><link rel="prefetch" href="/assets/js/27.1520ec85.js"><link rel="prefetch" href="/assets/js/28.be40ede1.js"><link rel="prefetch" href="/assets/js/29.5e42d4f2.js"><link rel="prefetch" href="/assets/js/3.fbcd2674.js"><link rel="prefetch" href="/assets/js/30.eae39a3c.js"><link rel="prefetch" href="/assets/js/31.63618f89.js"><link rel="prefetch" href="/assets/js/32.43b53339.js"><link rel="prefetch" href="/assets/js/33.931d2183.js"><link rel="prefetch" href="/assets/js/34.e7f37503.js"><link rel="prefetch" href="/assets/js/35.6302af3d.js"><link rel="prefetch" href="/assets/js/36.7aec4478.js"><link rel="prefetch" href="/assets/js/37.58461b9d.js"><link rel="prefetch" href="/assets/js/38.811a26e0.js"><link rel="prefetch" href="/assets/js/39.c3d07ac9.js"><link rel="prefetch" href="/assets/js/4.23df146b.js"><link rel="prefetch" href="/assets/js/40.b2c32317.js"><link rel="prefetch" href="/assets/js/41.368ac455.js"><link rel="prefetch" href="/assets/js/42.d68c9491.js"><link rel="prefetch" href="/assets/js/43.74a44b32.js"><link rel="prefetch" href="/assets/js/44.633f2e2b.js"><link rel="prefetch" href="/assets/js/46.3ddc24a7.js"><link rel="prefetch" href="/assets/js/5.4c581b45.js"><link rel="prefetch" href="/assets/js/6.27888615.js"><link rel="prefetch" href="/assets/js/7.e23a1d77.js"><link rel="prefetch" href="/assets/js/8.928501ca.js"><link rel="prefetch" href="/assets/js/9.0b4be001.js">
    <link rel="stylesheet" href="/assets/css/0.styles.386f4818.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">suting-Blogs</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  home
</a></div><div class="nav-item"><a href="https://javaguide.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JavaGuide
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://home.code-nav.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  code-nav
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/sutinghu153" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://mp.weixin.qq.com/mp/profile_ext?action=home&amp;__biz=MzA5ODI3NTI1OA==&amp;scene=124#wechat_redirect" target="_blank" rel="noopener noreferrer" class="nav-link external">
  WK听潮
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/itdevbooks/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  book
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://beian.miit.gov.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  湘ICP备2021013988号-1
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  home
</a></div><div class="nav-item"><a href="https://javaguide.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JavaGuide
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://home.code-nav.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  code-nav
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/sutinghu153" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://mp.weixin.qq.com/mp/profile_ext?action=home&amp;__biz=MzA5ODI3NTI1OA==&amp;scene=124#wechat_redirect" target="_blank" rel="noopener noreferrer" class="nav-link external">
  WK听潮
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/itdevbooks/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  book
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://beian.miit.gov.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  湘ICP备2021013988号-1
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>个人项目</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>C/C++/Java/Golang</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Linux内核</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Linux系统开发</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Linux/Makefile/Shell</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>区块链</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>数据结构</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>设计模式</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>计算机视觉</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>计算机基础</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>中间件</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>算法</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>常用命令</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>数据库</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>系统部署</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/collection/xtbs.html" aria-current="page" class="active sidebar-link">Linux系统一站式部署</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/collection/xtbs.html#_1-准备工作" class="sidebar-link">1. 准备工作</a></li><li class="sidebar-sub-header"><a href="/collection/xtbs.html#_2-部署中间件" class="sidebar-link">2. 部署中间件</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 align="center">Linux系统一站式部署</h1> <h2 id="_1-准备工作"><a href="#_1-准备工作" class="header-anchor">#</a> 1. 准备工作</h2> <h3 id="_1-1-本机安装-xshell-远程连接工具"><a href="#_1-1-本机安装-xshell-远程连接工具" class="header-anchor">#</a> 1.1 本机安装 Xshell 远程连接工具</h3> <div class="language- extra-class"><pre class="language-text"><code>参考
https://blog.csdn.net/qq_42455308/article/details/105528162
</code></pre></div><h3 id="_1-2-本机安装navicat数据库工具"><a href="#_1-2-本机安装navicat数据库工具" class="header-anchor">#</a> 1.2 本机安装Navicat数据库工具</h3> <div class="language- extra-class"><pre class="language-text"><code>参考
https://www.cnblogs.com/sunyllove/p/9776373.html
</code></pre></div><h3 id="_1-3-linux-常用命令指南"><a href="#_1-3-linux-常用命令指南" class="header-anchor">#</a> 1.3 Linux 常用命令指南</h3> <h4 id="_1-3-1-磁盘管理"><a href="#_1-3-1-磁盘管理" class="header-anchor">#</a> 1.3.1 磁盘管理</h4> <div class="language- extra-class"><pre class="language-text"><code>fdisk -l	查询磁盘空间

fdisk /dev/vdb		磁盘分区，/dev/vdb为磁盘名

磁盘分区及格式化教程：https://jingyan.baidu.com/article/7e4409531f27292fc0e2ef39.html

mount /dev/vdb /xxzx	  挂载分区，/dev/vdb为磁盘名，/xxzx为挂载目录

https://www.cnblogs.com/hester/p/12385990.html
注意mount命令为临时挂载，重启后会失效，要修改配置文件/etc/fstab添加系统启动挂载点。

df -h		查看分区与挂载点详情

lsblk		查看设备挂载情况

注意：当存在多硬盘设备管理时，建议将多个磁盘设备（物理卷PV）组成逻辑卷组（VG），再将VG分割成多个逻辑卷（LV），这样方便VG、LV进行扩展容量和收缩容量。

参考：https://www.cnblogs.com/chengxuyonghu/p/13652547.html?ivk_sa=1024320u

</code></pre></div><h4 id="_1-3-2-目录切换cd-命令"><a href="#_1-3-2-目录切换cd-命令" class="header-anchor">#</a> 1.3.2 目录切换cd 命令</h4> <div class="language- extra-class"><pre class="language-text"><code>cd /   切到根目录
cd /usr  切换到根目录下的usr目录
cd ../ 切换到上一级目录 或者  cd ..
cd ~  切换到home目录
cd -  切换到上次访问的目录 
</code></pre></div><h4 id="_1-3-3-目录查看"><a href="#_1-3-3-目录查看" class="header-anchor">#</a> 1.3.3 目录查看</h4> <div class="language- extra-class"><pre class="language-text"><code>ls           查看当前目录下的所有目录和文件
ls -a        查看当前目录下的所有目录和文件（包括隐藏的文件）
ls -l 或 ll  列表查看当前目录下的所有目录和文件（列表查看，显示更多信息）
ls /dir     查看指定目录下的所有目录和文件   如：ls /usr
du -sh			查看当前目录空间大小
df -hl			查看磁盘剩余空间
df -h			查看每个根路径的分区大小
</code></pre></div><h4 id="_1-3-4-目录操作"><a href="#_1-3-4-目录操作" class="header-anchor">#</a> 1.3.4 目录操作</h4> <div class="language- extra-class"><pre class="language-text"><code>新建目录：mkdir aaa 在当前目录下创建一个名为aaa的目录
删除目录：rm -r aaa 递归删除当前目录下的aaa目录
删除文件：rm 文件  删除当前目录下的文件
删除当前目录下所有文件夹和文件：rm -rf 目录名字
重命名目录或文件：mv aaa bbb 将目录aaa改为bbb
剪切目录或文件：mv /usr/tmp/aaa /usr  将/usr/tmp目录下的aaa目录剪切到 /usr目录下面。
</code></pre></div><h4 id="_1-3-5-文件操作"><a href="#_1-3-5-文件操作" class="header-anchor">#</a> 1.3.5 文件操作</h4> <div class="language- extra-class"><pre class="language-text"><code>新建文件：touch 文件名
打开文件：vi 文件名
打开文件编辑模式：i （打开文件后）
退出文件编辑模式：ESC健
退出文件：【1】强制退出（不保存）：【:q!】
          【2】保存后退出：【:wq】
退出文件之前，要先退出文件编辑模式
</code></pre></div><h4 id="_1-3-6-文件上传与解压"><a href="#_1-3-6-文件上传与解压" class="header-anchor">#</a> 1.3.6 文件上传与解压</h4> <div class="language- extra-class"><pre class="language-text"><code>1.安装用于上传和下载文件的rzrs工具
执行命令：yum -y install lrzsz
上传文件和文件压缩包：rz -be
下载文件和文件压缩包：sz 文件名  
2.文件解压
（1）.tar.gz文件 
    tar -zxvf filename.tar.gz
（2）.zip文件
  解压：unzip -q filename.zip
  压缩：zip filename.zip dirnam 
</code></pre></div><h4 id="_1-3-7-进程查看与强杀"><a href="#_1-3-7-进程查看与强杀" class="header-anchor">#</a> 1.3.7 进程查看与强杀</h4> <div class="language- extra-class"><pre class="language-text"><code>查看进程：ps -ef | grep xxx   
干掉进程：kill -9  1234
</code></pre></div><h4 id="_1-3-8-服务器防火墙操作"><a href="#_1-3-8-服务器防火墙操作" class="header-anchor">#</a> 1.3.8 服务器防火墙操作</h4> <div class="language- extra-class"><pre class="language-text"><code>1.查看防火墙状态
systemctl status firewalld.service
2.关闭防火墙
systemctl stop firewalld.service
3.永久关闭防火墙
systemctl disable firewalld.service
</code></pre></div><h3 id="_1-4-基础环境安装"><a href="#_1-4-基础环境安装" class="header-anchor">#</a> 1.4 基础环境安装</h3> <div class="language- extra-class"><pre class="language-text"><code>1. 安装中文字体
https://blog.csdn.net/weixin_45029526/article/details/103686127
2. 安装unzip
3. 安装 unrar
</code></pre></div><h2 id="_2-部署中间件"><a href="#_2-部署中间件" class="header-anchor">#</a> 2. 部署中间件</h2> <h3 id="_2-1-安装jdk"><a href="#_2-1-安装jdk" class="header-anchor">#</a> 2.1 安装jdk</h3> <div class="language- extra-class"><pre class="language-text"><code>1.切换至usr目录下，输入rz指令上传JDK压缩包
	[root@localhost /]# cd usr
	[root@localhost usr]# rz
2.解压JDK压缩包
	输入命令：tar -zxvf jdk-8u261-linux-x64.tar.gz
3.修改配置文件
	输入指令打开配置文件：vi /etc/profile
	输入i切换为insert状态
	添加下面的配置：
	export JAVA_HOME=/usr/jdk1.8.0_261 (注意jdk的存放路径和文件名)
export 	CLASSPATH=.:${JAVA_HOME}/jre/lib/rt.jar:${JAVA_HOME}/lib/dt.jar:${JAVA_HOME}/lib/tools.jar 
export PATH=$PATH:${JAVA_HOME}/bin
4.退出配置文件并保持
	按ESC健退出编辑状态，执行【:wq】命令保存并退出配置文件。
5.运行配置文件
	输入指令：source /etc/profile
6.查看jdk是否安装成功
   输入命令：java -version 
</code></pre></div><h3 id="_2-2-安装nacos"><a href="#_2-2-安装nacos" class="header-anchor">#</a> 2.2  安装nacos</h3> <div class="language- extra-class"><pre class="language-text"><code>1.上传安装包，并解压
2.进入到bin目录
cd nacos/bin
3.启动项目
sh startup.sh -m standalone
4.验证是否启动成功
浏览器访问 IP:8848/nacos    用户名/密码 nacos/naocs
5.登录nacos，新建命名空间，输入命名空间名sds。
6.进入配置列表，切换到新建的命名空间，注意命名空间的namespace。
7.开机自启动nacos。
https://all_jun.gitee.io/blog/2020/08/29/CentOS%E8%AE%BE%E7%BD%AEnacos%E5%BC%80%E6%9C%BA%E8%87%AA%E5%90%AF/
</code></pre></div><h3 id="_2-3-安装pgsql"><a href="#_2-3-安装pgsql" class="header-anchor">#</a> 2.3 安装PGSQL</h3> <div class="language- extra-class"><pre class="language-text"><code>1.在线安装pg数据库：
  yum install postgresql-server postgresql-contrib -y
离线安装pgsql_10.3：
https://www.jianshu.com/p/f1ae82881d69
https://blog.csdn.net/weixin_42657158/article/details/99001137

2.数据库初始化：postgresql-setup initdb
3.开启启动：systemctl enable postgresql 
            systemctl start postgresql 
4.修改配置文件

vi /var/lib/pgsql/data/postgresql.conf
listen_addresses ='localhost' localhost 修改为服务器ip；并删除port = 5432前的 # 。

vi /var/lib/pgsql/data/pg_hba.conf
添加一行：host all all 0.0.0.0/0 md5

5.连接数据库
（1）su - postgres
（2）psql
（3）创建一个root新用户
        create user root with password '123456'；
（4）给root用户分配数据库权限
       alter role root with Superuser;
     alter role root with CreateRole;
     alter role root with CreateDB;
     alter role root with Replication;
（5）删除数据库用户: drop user root;
（6）创建和删除数据库
       查看数据库列表: \l (list的意思)
     创建数据库: create database db1;
       删除数据库: drop database db1;
</code></pre></div><h3 id="_2-4-安装es"><a href="#_2-4-安装es" class="header-anchor">#</a> 2.4 安装ES</h3> <div class="language- extra-class"><pre class="language-text"><code>1.创建用户
（1）创建用户组：创建esgroup用户组 	groupadd esgroup
（2）创建用户es并指定用户组为esgroup：useradd -g esgroup es
（3）设置新用户密码：passwd es
（4）设置sudo权限：visudo
     找到root ALL=(ALL) ALL一行，添加es用户
（5）切换用户：su es
（6）退出用户：exit
2.上传安装文件，并修改权限
（1）切换到es用户，在cd /home/es目录下，上传安装包并解压：        tar -zxvf elasticsearch-6.6.2.tar.gz 
（2）将解压后的文件转移到esopt目录下：sudo mv elasticsearch-6.6.2 /esopt/
（3）修改目录权限：sudo chown -R es:esgroup /esopt
chown es:esgroup /esopt/elasticsearch-6.6.2 -R
（4）查看esopt目录下各文件归属
3.ElasticSearch 配置修改
（1）修改elasticsearch.yml：
vi /esopt/elasticsearch-6.6.2/config/elasticsearch.yml
修改或添加以下配置：
network.host: 10.14.1.136
http.port: 9200
bootstrap.memory_lock: false
bootstrap.system_call_filter: false 
（2）修改线程数threads
  vi /etc/security/limits.d/20-nproc.conf
注意：20可能因系统版本不同而不同。
  * soft nproc 1024 修改为 * soft nproc 2048 
  如果文件中的值大于2048，则不用修改。
（3）切换到root用户下，修改/etc/sysctl.conf文件配置：
  vi /etc/sysctl.conf
  添加内容：vm.max_map_count=2621441
  用命令sysctl -p 生效
（4）root用户下修改文件/etc/security/limits.conf
  vi /etc/security/limits.conf
  添加如下内容:
  * hard nofile 65536
  * soft nofile 65536
  * soft nproc 4096
  * hard nproc 4096 
  添加分词插件
    切换到es用户，切换到elasticsearch-6.6.2目录下，删除plugins目录，然后上传分词插件安装包：es-pliginx.tar.gz，再解压即可。
rm -rf plugins
tar -zxvf es-pliginx.tar.gz
4.ES的启动与停止
（1）直接启动：在es用户的elasticsearch-6.6.2下执行：     bin/elasticsearch
（2）停止:Ctrl+c
（3）后台运行：bin/elasticsearch -d
（4）看进程：jps
5.验证
curl http://ip:9200   IP为服务器ip
6.遇到问题与解决方案
（1）找不到java
解决方案：
vi /home/es/esopt/elasticsearch-6.6.2/config/elasticsearch.yml     
添加：JAVA_HOME=/usr/local/java  (JAVA_HOME可以参考安装jdk时的路径）
（2）当前系统不支持X-Pack特性
解决方案：在elasticsearch.yml配置文件中添加：
    xpack.ml.enabled: false
</code></pre></div><h3 id="_2-5-安装kafka"><a href="#_2-5-安装kafka" class="header-anchor">#</a> 2.5 安装Kafka</h3> <div class="language- extra-class"><pre class="language-text"><code>1.上传安装包，并解压
2.修改配置文件
3. server.properties
   打e置文件：vi kafka_2.11-2.3.1/config/server.properties
   添加命令：listeners=PLAINTEXT://10.14.2.212:9092  把IP改为自己服务器的IP
   4.启动
   进入bin目录：cd /kafka_2.11-2.3.1/bin
   启动：
  ./zookeeper-server-start.sh -daemon ../config/zookeeper.properties 
  ./kafka-server-start.sh -daemon ../config/server.properties 
5.验证 ps -ef |grep kafka ，正常会有两个线程
6.国产麒麟服务器在启动阶段遇到问题：

解决方法：vi /kafka_2.11-2.3.1/bin/kafka-run-class.sh，找到下面语句：
KAFKA_JVM_PERFORMANCE_OPTS=&quot;-server -XX:+UseG1GC -XX:MaxGCPauseMillis=20
直接删掉 -XX:+UseG1GC后重启 。
7.定时启动（防kafka挂掉）
（1）执行crontab -e命令
（2）添加以下语句（文件路径根据具体情况更改）：
*/1 * * * * . /etc/profile; sh /kafka_2.11-2.3.1/bin/kafka-server-start.sh -daemon /kafka_2.11-2.3.1/config/server.properties &gt;&gt; /kafka_2.11-2.3.1/logs/log.out 2&gt;&amp;1
（3）退出并保存：:wq
</code></pre></div><h3 id="_2-6-安装redis"><a href="#_2-6-安装redis" class="header-anchor">#</a> 2.6 安装redis</h3> <div class="language- extra-class"><pre class="language-text"><code>参考资料：https://www.cnblogs.com/monjeo/p/7568785.html
1.在服务器/usr/local目录下上传安装包
   cd /usr/local
   tar -zxvf redis-5.0.7.tar.gz
2.安装gcc
   查看gcc版本：gcc -v（如已安装则不需要执行下一步安装命令）
   安装命令：yum install gcc
   升级为9.1版本：
   yum -y install centos-release-scl
    yum -y install devtoolset-9-gcc devtoolset-9-gcc-c++ devtoolset-9-binutils
    echo &quot;source /opt/rh/devtoolset-9/enable&quot; &gt;&gt;/etc/profile
离线安装gcc9.1（可能会报缺少依赖包的提示）：https://blog.csdn.net/wanglin199709/article/details/94553903
下载4个依赖包：
ftp://gcc.gnu.org/pub/gcc/infrastructure/
3.安装redis
   cd redis-5.0.7
   make
   cd src
   make install PREFIX=/usr/local/redis
  安装成功会出现：Hint: It's a good idea to run 'make test' 
  执行 make test 进行测试
Linux安装Redis后，make test出现You need tcl 8.5 or newer in order to run the Redis test”问题
https://blog.csdn.net/hussci/article/details/103340422

4.修改redis.conf 文件 ,修改这四个配置，
   redis.conf文件在redis-5.0.7目录下：
   vi编辑器使用/：向后搜索；?：向前搜索n：查找下一处；N：查找上一处。进行内容查找定位。
   daemonize yes #修改redis为后台运行
   启动
   cd /usr/local/redis/bin
   ./redis-server /usr/local/redis-5.0.7/redis.conf
redis常用命令
1、查看redis是否在运行： ps aux | grep redis  或  netstat -lntp
2、启动redis：   redis-server /etc/redis.conf
3、关闭redis：   /usr/b in/redis-cli shutdown
4、当设置密码后，上面的关闭命令无效： 
带密码输入：   redis-cli -a [password]    回车后输入：shutdown
即可关闭redis，输入exit 退出。
如果上面都无法关闭，直接使用 kill -9 进程号   来关闭。
查看redis密码；可查看 redis 安装根目录下的配置文件：redis-conf 中SECURITY下面的 requirepass 后面的内容。
redis远程访问：./redis-cli -h 100.64.16.13 -p 6379

</code></pre></div><h3 id="_2-7-安装seata"><a href="#_2-7-安装seata" class="header-anchor">#</a> 2.7 安装SeaTa</h3> <div class="language- extra-class"><pre class="language-text"><code>1.上传安装包，并解压
  tar -zxvf seata.tar.gz
2.修改配置文件registry.conf和file.confg
修改配置参考资料：https://blog.csdn.net/qq853632587/article/details/111644295
   vi registry.conf   修改nacos中的serverAddr和namespace
username和password为空。
注意nacos配置项内容是否有重复项，否则会无法添加到nacos。
 vi file.conf   根据当前环境的数据库配置，修改图中配置。
PGSQL配置：
3.启动seata
    进入bin目录cd ../bin
   后台启动seata：nohup ./seata-server.sh &amp;。
   启动成功后，在nacos的服务列表中可以看到seata服务。
</code></pre></div><h3 id="_2-8-安装nginx"><a href="#_2-8-安装nginx" class="header-anchor">#</a> 2.8 安装nginx</h3> <div class="language- extra-class"><pre class="language-text"><code>1.安装插件
（1）yum install -y pcre pcre-devel 
（2）yum install -y zlib zlib-devel 
（3）yum install -y openssl openssl-devel 
2.安装nginx
（1）上传并解压文件：tar -zxvf nginx-1.16.1.tar.gz
（2）安装nginx：
      cd nginx-1.16.1
      ./configure 
      make 
      make install 
（3）修改nginx配置
     cd /usr/local/nginx/conf/
     修改nginx.conf文件的ip，可以下载其他项目的配置文件，把其他项目配置文件的ip改成自己服务器的ip，然后再上传到该目录下。记得先删除原配置文件再上传。
3.启动nginx
  cd /usr/local/nginx/sbin/ 
  ./nginx #启动 
  ./nginx -t #检查配置 
  ./nginx -s reload #重启 
  ./nginx -s stop #停止 
</code></pre></div><h3 id="_2-9-安装hadoop"><a href="#_2-9-安装hadoop" class="header-anchor">#</a> 2.9 安装Hadoop</h3> <div class="language- extra-class"><pre class="language-text"><code>1.创建用户，并为其添加root权限
  sudo adduser hadoop
  visudo    #添加一行
  2.给hadoop用户创建目录，并添加到sudo用户组中，命令如下
  sudo chown hadoop /home/hadoop
  sudo adduser -G hadoop sudo
3.配置shh无码登录
   ssh localhost
   ssh-keygen -t dsa -P '' -f ~/.ssh/id_dsa
   cat ~/.ssh/id_dsa.pub &gt;&gt; ~/.ssh/authorized_keys
4.安装hadoop
（1）切换到hadoop用户下
     su hadoop
（2）在home/hadoop目录下上传安装包，并解压
（3）在home/hadoop目录下新建tmp、hdfs/name、hdfs/data目录
        mkdir tmp
        mkdir hdfs
        mkdir hdfs/name
        mkdir hdfs/data
（4）设置环境变量，vi ~/.bash_profile
添加：export HADOOP_HOME=/home/hadoop/hadoop-2.9.2
      export PATH=$PATH:$HADOOP_HOME/bin
使配置生效：source ~/.bash_profile
（5）修改配置文件，在/home/hadoop/hadoop-2.9.2/etc/hadoop目录下
1）vi hadoop-env.sh
export JAVA_HOME =/usr/jdk1.8.0_261
2）yarn-env.sh
export JAVA_HOME =/usr/jdk1.8.0_261

3）core-site.xml
&lt;configuration&gt;
&lt;property&gt;
　　&lt;name&gt;fs.default.name&lt;/name&gt;
　　&lt;value&gt;hdfs://10.14.2.214:9000&lt;/value&gt;
　　&lt;description&gt;HDFS的URI，文件系统://namenode标识:端口号&lt;/description&gt;&lt;/property&gt;
&lt;property&gt;
　　&lt;name&gt;hadoop.tmp.dir&lt;/name&gt;
　　&lt;value&gt;/home/hadoop/tmp&lt;/value&gt;
　　&lt;description&gt;namenode上本地的hadoop临时文件夹&lt;/description&gt;
&lt;/property&gt;
&lt;/configuration&gt;

4）hdfs-site.xml
&lt;configuration&gt;
&lt;property&gt;
　　&lt;name&gt;dfs.name.dir&lt;/name&gt;
　　&lt;value&gt;/home/hadoop/hdfs/name&lt;/value&gt;
　　&lt;description&gt;namenode上存储hdfs名字空间元数据 &lt;/description&gt; &lt;/property&gt;
&lt;property&gt;
　　&lt;name&gt;dfs.data.dir&lt;/name&gt;
　　&lt;value&gt;/home/hadoop/hdfs/data&lt;/value&gt;
　　&lt;description&gt;datanode上数据块的物理存储位置&lt;/description&gt;&lt;/property&gt;
&lt;property&gt;
　　&lt;name&gt;dfs.replication&lt;/name&gt;
　　&lt;value&gt;1&lt;/value&gt;
　　&lt;description&gt;副本个数，配置默认是3,应小于datanode机器数量&lt;/description&gt;
　　&lt;/property&gt;
&lt;/configuration&gt;

5）cp mapred-site.xml.template mapred-site.xml
mapred-site.xml
&lt;configuration&gt;
&lt;property&gt;
　　&lt;name&gt;mapreduce.framework.name&lt;/name&gt;
　　&lt;value&gt;yarn&lt;/value&gt;
　　&lt;/property&gt;
&lt;/configuration&gt;

6）yarn-site.xml 
5.启动
（1）切换到hadoop-2.9.2目录下，格式化hdfs文件系统：
     bin/hadoop namenode -format
（2）cd sbin
（3）./start-dfs.sh
（4）./start-yarn.sh
6.执行jps命令，有如下进程，说明Hadoop正常启动
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/collection/sql.html" class="prev">
        数据库常用总结
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.e2ddde8e.js" defer></script><script src="/assets/js/2.e74445cb.js" defer></script><script src="/assets/js/45.eab6bf9b.js" defer></script>
  </body>
</html>
