<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Go | suting-Blogs</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="分布式博客云笔记">
    
    <link rel="preload" href="/assets/css/0.styles.386f4818.css" as="style"><link rel="preload" href="/assets/js/app.e2ddde8e.js" as="script"><link rel="preload" href="/assets/js/2.e74445cb.js" as="script"><link rel="preload" href="/assets/js/20.6a00e35f.js" as="script"><link rel="prefetch" href="/assets/js/10.383382f2.js"><link rel="prefetch" href="/assets/js/11.79913c72.js"><link rel="prefetch" href="/assets/js/12.18e85316.js"><link rel="prefetch" href="/assets/js/13.78e33ed3.js"><link rel="prefetch" href="/assets/js/14.92269bd7.js"><link rel="prefetch" href="/assets/js/15.acc92b96.js"><link rel="prefetch" href="/assets/js/16.d8716382.js"><link rel="prefetch" href="/assets/js/17.fa6a1da4.js"><link rel="prefetch" href="/assets/js/18.c5024350.js"><link rel="prefetch" href="/assets/js/19.c3e206a7.js"><link rel="prefetch" href="/assets/js/21.37c42ff6.js"><link rel="prefetch" href="/assets/js/22.abd1537f.js"><link rel="prefetch" href="/assets/js/23.6a041ee1.js"><link rel="prefetch" href="/assets/js/24.ab067683.js"><link rel="prefetch" href="/assets/js/25.a2de42cd.js"><link rel="prefetch" href="/assets/js/26.efa7caf3.js"><link rel="prefetch" href="/assets/js/27.1520ec85.js"><link rel="prefetch" href="/assets/js/28.be40ede1.js"><link rel="prefetch" href="/assets/js/29.5e42d4f2.js"><link rel="prefetch" href="/assets/js/3.fbcd2674.js"><link rel="prefetch" href="/assets/js/30.eae39a3c.js"><link rel="prefetch" href="/assets/js/31.63618f89.js"><link rel="prefetch" href="/assets/js/32.43b53339.js"><link rel="prefetch" href="/assets/js/33.931d2183.js"><link rel="prefetch" href="/assets/js/34.e7f37503.js"><link rel="prefetch" href="/assets/js/35.6302af3d.js"><link rel="prefetch" href="/assets/js/36.7aec4478.js"><link rel="prefetch" href="/assets/js/37.58461b9d.js"><link rel="prefetch" href="/assets/js/38.811a26e0.js"><link rel="prefetch" href="/assets/js/39.c3d07ac9.js"><link rel="prefetch" href="/assets/js/4.23df146b.js"><link rel="prefetch" href="/assets/js/40.b2c32317.js"><link rel="prefetch" href="/assets/js/41.368ac455.js"><link rel="prefetch" href="/assets/js/42.d68c9491.js"><link rel="prefetch" href="/assets/js/43.74a44b32.js"><link rel="prefetch" href="/assets/js/44.633f2e2b.js"><link rel="prefetch" href="/assets/js/45.eab6bf9b.js"><link rel="prefetch" href="/assets/js/46.3ddc24a7.js"><link rel="prefetch" href="/assets/js/5.4c581b45.js"><link rel="prefetch" href="/assets/js/6.27888615.js"><link rel="prefetch" href="/assets/js/7.e23a1d77.js"><link rel="prefetch" href="/assets/js/8.928501ca.js"><link rel="prefetch" href="/assets/js/9.0b4be001.js">
    <link rel="stylesheet" href="/assets/css/0.styles.386f4818.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">suting-Blogs</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  home
</a></div><div class="nav-item"><a href="https://javaguide.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JavaGuide
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://home.code-nav.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  code-nav
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/sutinghu153" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://mp.weixin.qq.com/mp/profile_ext?action=home&amp;__biz=MzA5ODI3NTI1OA==&amp;scene=124#wechat_redirect" target="_blank" rel="noopener noreferrer" class="nav-link external">
  WK听潮
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/itdevbooks/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  book
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://beian.miit.gov.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  湘ICP备2021013988号-1
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  home
</a></div><div class="nav-item"><a href="https://javaguide.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JavaGuide
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://home.code-nav.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  code-nav
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/sutinghu153" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://mp.weixin.qq.com/mp/profile_ext?action=home&amp;__biz=MzA5ODI3NTI1OA==&amp;scene=124#wechat_redirect" target="_blank" rel="noopener noreferrer" class="nav-link external">
  WK听潮
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/itdevbooks/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  book
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://beian.miit.gov.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  湘ICP备2021013988号-1
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>个人项目</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>C/C++/Java/Golang</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/collection/languagec.html" class="sidebar-link">C</a></li><li><a href="/collection/qt.html" class="sidebar-link">Qt</a></li><li><a href="/collection/languagejava.html" class="sidebar-link">JAVA</a></li><li><a href="/collection/springttt.html" class="sidebar-link">spring微服务问题</a></li><li><a href="/collection/go.html" aria-current="page" class="active sidebar-link">Golang</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/collection/go.html#go-环境安装" class="sidebar-link">Go 环境安装</a></li><li class="sidebar-sub-header"><a href="/collection/go.html#基础语法" class="sidebar-link">基础语法</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Linux内核</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Linux系统开发</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Linux/Makefile/Shell</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>区块链</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>数据结构</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>设计模式</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>计算机视觉</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>计算机基础</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>中间件</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>算法</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>常用命令</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>数据库</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>系统部署</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="go"><a href="#go" class="header-anchor">#</a> Go</h1> <h2 id="go-环境安装"><a href="#go-环境安装" class="header-anchor">#</a> Go 环境安装</h2> <blockquote><p><a href="https://m.runoob.com/go/go-environment.html" target="_blank" rel="noopener noreferrer">Go 语言环境安装 | (runoob.com)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h2 id="基础语法"><a href="#基础语法" class="header-anchor">#</a> 基础语法</h2> <h3 id="标记"><a href="#标记" class="header-anchor">#</a> 标记</h3> <p>Go程序可以由多个标记组成，可以是关键字、标识符、常量、字符串、符号等</p> <h3 id="行分隔符"><a href="#行分隔符" class="header-anchor">#</a> 行分隔符</h3> <p>在 Go 程序中，一行代表一个语句结束。每个语句不需要像 C 家族中的其它语言一样以分号 ; 结尾，因为这些工作都将由 Go 编译器自动完成。如果你打算将多个语句写在同一行，它们则必须使用 ;</p> <h3 id="注释"><a href="#注释" class="header-anchor">#</a> 注释</h3> <div class="language-go extra-class"><pre class="language-go"><code><span class="token comment">// 单行注释</span>
<span class="token comment">/**/</span> 多行注释
</code></pre></div><h3 id="标识符"><a href="#标识符" class="header-anchor">#</a> 标识符</h3> <p>标识符用来命名变量、类型等程序实体，只能由字母和下划线开头</p> <h3 id="关键字"><a href="#关键字" class="header-anchor">#</a> 关键字</h3> <p><img src="C:%5CUsers%5CMSI%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1654829793479.png" alt="1654829793479"></p> <h3 id="变量"><a href="#变量" class="header-anchor">#</a> 变量</h3> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">var</span> identifier <span class="token keyword">type</span>
</code></pre></div><p>var 标识符 数据类型</p> <h4 id="值类型"><a href="#值类型" class="header-anchor">#</a> 值类型</h4> <ul><li><p>所有像int float bool string 这些基础类型都属于值类型，使用这些类型的变量直接指向内存中的值。</p></li> <li><p>当使用等号 <code>=</code> 将一个变量的值赋值给另一个变量时，如：<code>j = i</code>，实际上是在内存中将 i 的值进行了拷贝 。</p></li> <li><p>可以通过 &amp;i 来获取变量 i 的内存地址，例如：0xf840000040（每次的地址都可能不一样）。值类型的变量的值存储在栈中。</p></li></ul> <h4 id="引用类型"><a href="#引用类型" class="header-anchor">#</a> 引用类型</h4> <p>引用类型的变量 r1 存储的是 r1 的值所在的内存地址（数字），或内存地址中第一个值所在的位置 。</p> <p>这个内存地址为称之为指针，这个指针实际上也被存在另外的某一个值中 。</p> <h4 id="赋值操作符"><a href="#赋值操作符" class="header-anchor">#</a> := 赋值操作符</h4> <ul><li><p>a := 50 或 b := false</p></li> <li><p>系统会自动推断</p></li> <li><p>只能被用在函数体内，不可以用于全局变量的声明与赋值</p></li> <li><p>不可以再次对于相同名称的变量使用初始化声明</p></li></ul> <h3 id="常量"><a href="#常量" class="header-anchor">#</a> 常量</h3> <ul><li><p>常量是一个简单值的标识符，在程序运行时，不会被修改的量。</p></li> <li><p>常量中的数据类型只可以是布尔型、数字型（整数型、浮点型和复数）和字符串型。</p></li></ul> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">const</span> identifier <span class="token punctuation">[</span><span class="token keyword">type</span><span class="token punctuation">]</span> <span class="token operator">=</span> value
</code></pre></div><ul><li>显式类型定义： <code>const b string = &quot;abc&quot;</code></li> <li>隐式类型定义： <code>const b = &quot;abc&quot;</code></li></ul> <h3 id="iota"><a href="#iota" class="header-anchor">#</a> iota</h3> <ul><li>iota，特殊常量，可以认为是一个可以被编译器修改的常量。</li> <li>在每一个const关键字出现时，被重置为0，然后再下一个const出现之前，每出现一次iota，其所代表的数字会自动增加1 .</li></ul> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">const</span> <span class="token punctuation">(</span>
    a <span class="token operator">=</span> <span class="token boolean">iota</span>
    b <span class="token operator">=</span> <span class="token boolean">iota</span>
    c <span class="token operator">=</span> <span class="token boolean">iota</span>
<span class="token punctuation">)</span>
</code></pre></div><h3 id="运算符"><a href="#运算符" class="header-anchor">#</a> 运算符</h3> <h4 id="算术运算符"><a href="#算术运算符" class="header-anchor">#</a> 算术运算符</h4> <table><thead><tr><th>+</th> <th>相加</th> <th>A + B 输出结果 30</th></tr></thead> <tbody><tr><td>-</td> <td>相减</td> <td>A - B 输出结果 -10</td></tr> <tr><td>*</td> <td>相乘</td> <td>A * B 输出结果 200</td></tr> <tr><td>/</td> <td>相除</td> <td>B / A 输出结果 2</td></tr> <tr><td>%</td> <td>求余</td> <td>B % A 输出结果 0</td></tr> <tr><td>++</td> <td>自增</td> <td>A++ 输出结果 11</td></tr> <tr><td>--</td> <td>自减</td> <td>A-- 输出结果 9</td></tr></tbody></table> <h4 id="关系运算符"><a href="#关系运算符" class="header-anchor">#</a> 关系运算符</h4> <table><thead><tr><th>==</th> <th>检查两个值是否相等，如果相等返回 True 否则返回 False。</th> <th>(A == B) 为 False</th></tr></thead> <tbody><tr><td>!=</td> <td>检查两个值是否不相等，如果不相等返回 True 否则返回 False。</td> <td>(A != B) 为 True</td></tr> <tr><td>&gt;</td> <td>检查左边值是否大于右边值，如果是返回 True 否则返回 False。</td> <td>(A &gt; B) 为 False</td></tr> <tr><td>&lt;</td> <td>检查左边值是否小于右边值，如果是返回 True 否则返回 False。</td> <td>(A &lt; B) 为 True</td></tr> <tr><td>&gt;=</td> <td>检查左边值是否大于等于右边值，如果是返回 True 否则返回 False。</td> <td>(A &gt;= B) 为 False</td></tr> <tr><td>&lt;=</td> <td>检查左边值是否小于等于右边值，如果是返回 True 否则返回 False。</td> <td>(A &lt;= B) 为 True</td></tr></tbody></table> <h4 id="逻辑运算符"><a href="#逻辑运算符" class="header-anchor">#</a> 逻辑运算符</h4> <table><thead><tr><th>&amp;&amp;</th> <th>逻辑 AND 运算符。 如果两边的操作数都是 True，则条件 True，否则为 False。</th> <th>(A &amp;&amp; B) 为 False</th></tr></thead> <tbody><tr><td>||</td> <td>逻辑 OR 运算符。 如果两边的操作数有一个 True，则条件 True，否则为 False。</td> <td>(A || B) 为 True</td></tr> <tr><td>!</td> <td>逻辑 NOT 运算符。 如果条件为 True，则逻辑 NOT 条件 False，否则为 True。</td> <td>!(A &amp;&amp; B) 为 True</td></tr></tbody></table> <h4 id="位运算符"><a href="#位运算符" class="header-anchor">#</a> 位运算符</h4> <table><thead><tr><th style="text-align:left;">运算符</th> <th style="text-align:left;">描述</th> <th style="text-align:left;">实例</th></tr></thead> <tbody><tr><td style="text-align:left;">&amp;</td> <td style="text-align:left;">按位与运算符&quot;&amp;&quot;是双目运算符。 其功能是参与运算的两数各对应的二进位相与。</td> <td style="text-align:left;">(A &amp; B) 结果为 12, 二进制为 0000 1100</td></tr> <tr><td style="text-align:left;">|</td> <td style="text-align:left;">按位或运算符&quot;|&quot;是双目运算符。 其功能是参与运算的两数各对应的二进位相或</td> <td style="text-align:left;">(A | B) 结果为 61, 二进制为 0011 1101</td></tr> <tr><td style="text-align:left;">^</td> <td style="text-align:left;">按位异或运算符&quot;^&quot;是双目运算符。 其功能是参与运算的两数各对应的二进位相异或，当两对应的二进位相异时，结果为1。</td> <td style="text-align:left;">(A ^ B) 结果为 49, 二进制为 0011 0001</td></tr> <tr><td style="text-align:left;">&lt;&lt;</td> <td style="text-align:left;">左移运算符&quot;&lt;&lt;&quot;是双目运算符。左移n位就是乘以2的n次方。 其功能把&quot;&lt;&lt;&quot;左边的运算数的各二进位全部左移若干位，由&quot;&lt;&lt;&quot;右边的数指定移动的位数，高位丢弃，低位补0。</td> <td style="text-align:left;">A &lt;&lt; 2 结果为 240 ，二进制为 1111 0000</td></tr> <tr><td style="text-align:left;">&gt;&gt;</td> <td style="text-align:left;">右移运算符&quot;&gt;&gt;&quot;是双目运算符。右移n位就是除以2的n次方。 其功能是把&quot;&gt;&gt;&quot;左边的运算数的各二进位全部右移若干位，&quot;&gt;&gt;&quot;右边的数指定移动的位数。</td> <td style="text-align:left;">A &gt;&gt; 2 结果为 15 ，二进制为 0000 1111</td></tr></tbody></table> <blockquote><p>&amp; ：与运算，全真为真；</p> <p>| ：或运算，全假才假；</p> <p>^ :  异或运算，相同为假，不同为真</p></blockquote> <table><thead><tr><th style="text-align:left;">p</th> <th style="text-align:left;">q</th> <th style="text-align:left;">p &amp; q</th> <th style="text-align:left;">p | q</th> <th style="text-align:left;">p ^ q</th></tr></thead> <tbody><tr><td style="text-align:left;">0</td> <td style="text-align:left;">0</td> <td style="text-align:left;">0</td> <td style="text-align:left;">0</td> <td style="text-align:left;">0</td></tr> <tr><td style="text-align:left;">0</td> <td style="text-align:left;">1</td> <td style="text-align:left;">0</td> <td style="text-align:left;">1</td> <td style="text-align:left;">1</td></tr> <tr><td style="text-align:left;">1</td> <td style="text-align:left;">1</td> <td style="text-align:left;">1</td> <td style="text-align:left;">1</td> <td style="text-align:left;">0</td></tr> <tr><td style="text-align:left;">1</td> <td style="text-align:left;">0</td> <td style="text-align:left;">0</td> <td style="text-align:left;">1</td> <td style="text-align:left;">1</td></tr></tbody></table> <h4 id="赋值运算符"><a href="#赋值运算符" class="header-anchor">#</a> 赋值运算符</h4> <table><thead><tr><th>=</th> <th>简单的赋值运算符，将一个表达式的值赋给一个左值</th> <th>C = A + B 将 A + B 表达式结果赋值给 C</th></tr></thead> <tbody><tr><td>+=</td> <td>相加后再赋值</td> <td>C += A 等于 C = C + A</td></tr> <tr><td>-=</td> <td>相减后再赋值</td> <td>C -= A 等于 C = C - A</td></tr> <tr><td>*=</td> <td>相乘后再赋值</td> <td>C *= A 等于 C = C * A</td></tr> <tr><td>/=</td> <td>相除后再赋值</td> <td>C /= A 等于 C = C / A</td></tr> <tr><td>%=</td> <td>求余后再赋值</td> <td>C %= A 等于 C = C % A</td></tr> <tr><td>&lt;&lt;=</td> <td>左移后赋值</td> <td>C &lt;&lt;= 2 等于 C = C &lt;&lt; 2</td></tr> <tr><td>&gt;&gt;=</td> <td>右移后赋值</td> <td>C &gt;&gt;= 2 等于 C = C &gt;&gt; 2</td></tr> <tr><td>&amp;=</td> <td>按位与后赋值</td> <td>C &amp;= 2 等于 C = C &amp; 2</td></tr> <tr><td>^=</td> <td>按位异或后赋值</td> <td>C ^= 2 等于 C = C ^ 2</td></tr> <tr><td>|=</td> <td>按位或后赋值</td> <td>C |= 2 等于 C = C | 2</td></tr></tbody></table> <h4 id="其它运算符"><a href="#其它运算符" class="header-anchor">#</a> 其它运算符</h4> <table><thead><tr><th style="text-align:left;">运算符</th> <th style="text-align:left;">描述</th> <th style="text-align:left;">实例</th></tr></thead> <tbody><tr><td style="text-align:left;">&amp;</td> <td style="text-align:left;">返回变量存储地址</td> <td style="text-align:left;">&amp;a; 将给出变量的实际地址。</td></tr> <tr><td style="text-align:left;">*</td> <td style="text-align:left;">指针变量。</td> <td style="text-align:left;">*a; 是一个指针变量</td></tr></tbody></table> <h3 id="条件语句"><a href="#条件语句" class="header-anchor">#</a> 条件语句</h3> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">if</span> 布尔表达式 <span class="token punctuation">{</span>
   <span class="token comment">/* 在布尔表达式为 true 时执行 */</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  <span class="token comment">/* 在布尔表达式为 false 时执行 */</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>判断逻辑可不用 <code>()</code> 包起来</li> <li>其它与其它语言一致</li></ul> <h3 id="循环语句"><a href="#循环语句" class="header-anchor">#</a> 循环语句</h3> <p>Go语言的For循环有3种形式，只有其中的一种使用分号。</p> <p>和 C 语言的 for 一样：</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">for</span> init<span class="token punctuation">;</span> condition<span class="token punctuation">;</span> post <span class="token punctuation">{</span> <span class="token punctuation">}</span>
</code></pre></div><p>和 C 的 while 一样：</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">for</span> condition <span class="token punctuation">{</span> <span class="token punctuation">}</span>
</code></pre></div><p>和 C 的 for(;😉 一样：</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">for</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
</code></pre></div><ul><li>init： 一般为赋值表达式，给控制变量赋初值；</li> <li>condition： 关系表达式或逻辑表达式，循环控制条件；</li> <li>post： 一般为赋值表达式，给控制变量增量或减量。</li></ul> <div class="language-go extra-class"><pre class="language-go"><code> <span class="token keyword">var</span> b <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">15</span>
   <span class="token keyword">var</span> a <span class="token builtin">int</span>

   numbers <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">}</span> 

   <span class="token comment">/* for 循环 */</span>
   <span class="token keyword">for</span> a <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> a <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> a<span class="token operator">++</span> <span class="token punctuation">{</span>
      fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;a 的值为: %d\n&quot;</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span>
   <span class="token punctuation">}</span>

   <span class="token keyword">for</span> a <span class="token operator">&lt;</span> b <span class="token punctuation">{</span>
      a<span class="token operator">++</span>
      fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;a 的值为: %d\n&quot;</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>

   <span class="token keyword">for</span> i<span class="token punctuation">,</span>x<span class="token operator">:=</span> <span class="token keyword">range</span> numbers <span class="token punctuation">{</span>
      fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;第 %d 位 x 的值 = %d\n&quot;</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span>x<span class="token punctuation">)</span>
   <span class="token punctuation">}</span>   
</code></pre></div><h3 id="go函数"><a href="#go函数" class="header-anchor">#</a> Go函数</h3> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">function_name</span><span class="token punctuation">(</span> <span class="token punctuation">[</span>parameter list<span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">[</span>return_types<span class="token punctuation">]</span><span class="token punctuation">{</span>
   函数体
<span class="token punctuation">}</span>
</code></pre></div><ul><li>func：函数由 func 开始声明</li> <li>function_name：函数名称，函数名和参数列表一起构成了函数签名。</li> <li>parameter list]：参数列表，参数就像一个占位符，当函数被调用时，你可以将值传递给参数，这个值被称为实际参数。参数列表指定的是参数类型、顺序及参数个数。参数是可选的，也就是说函数也可以不包含参数。</li> <li>return_types：返回类型，函数返回一列值。return_types 是该列值的数据类型。有些功能不需要返回值，这种情况下 return_types 不是必须的。
<ul><li>返回值可以有多个</li> <li>函数输入可以有多个</li></ul></li> <li>函数体：函数定义的代码集合。</li></ul> <div class="language-go extra-class"><pre class="language-go"><code><span class="token comment">/* 函数返回两个数的最大值 */</span>
<span class="token keyword">func</span> <span class="token function">max</span><span class="token punctuation">(</span>num1<span class="token punctuation">,</span> num2 <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span><span class="token punctuation">{</span>
   <span class="token comment">/* 声明局部变量 */</span>
   <span class="token keyword">var</span> result <span class="token builtin">int</span>

   <span class="token keyword">if</span> <span class="token punctuation">(</span>num1 <span class="token operator">&gt;</span> num2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      result <span class="token operator">=</span> num1
   <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      result <span class="token operator">=</span> num2
   <span class="token punctuation">}</span>
   <span class="token keyword">return</span> result 
<span class="token punctuation">}</span>
</code></pre></div><h4 id="函数参数"><a href="#函数参数" class="header-anchor">#</a> 函数参数</h4> <table><thead><tr><th style="text-align:left;">传递类型</th> <th style="text-align:left;">描述</th></tr></thead> <tbody><tr><td style="text-align:left;">值传递</td> <td style="text-align:left;">值传递是指在调用函数时将实际参数复制一份传递到函数中，这样在函数中如果对参数进行修改，将不会影响到实际参数。</td></tr> <tr><td style="text-align:left;">引用传递</td> <td style="text-align:left;">引用传递是指在调用函数时将实际参数的地址传递到函数中，那么在函数中对参数所进行的修改，将影响到实际参数。</td></tr></tbody></table> <div class="language-go extra-class"><pre class="language-go"><code><span class="token comment">/* 定义交换值函数*/</span>
<span class="token keyword">func</span> <span class="token function">swap</span><span class="token punctuation">(</span>x <span class="token operator">*</span><span class="token builtin">int</span><span class="token punctuation">,</span> y <span class="token operator">*</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">var</span> temp <span class="token builtin">int</span>
   temp <span class="token operator">=</span> <span class="token operator">*</span>x    <span class="token comment">/* 保持 x 地址上的值 */</span>
   <span class="token operator">*</span>x <span class="token operator">=</span> <span class="token operator">*</span>y      <span class="token comment">/* 将 y 值赋给 x */</span>
   <span class="token operator">*</span>y <span class="token operator">=</span> temp    <span class="token comment">/* 将 temp 值赋给 y */</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="变量作用域"><a href="#变量作用域" class="header-anchor">#</a> 变量作用域</h3> <p>Go 语言中变量可以在三个地方声明：</p> <ul><li>函数内定义的变量称为局部变量</li> <li>函数外定义的变量称为全局变量</li> <li>函数定义中的变量称为形式参数</li></ul> <p>不同类型的局部和全局变量默认值为</p> <table><thead><tr><th style="text-align:left;">数据类型</th> <th style="text-align:left;">初始化默认值</th></tr></thead> <tbody><tr><td style="text-align:left;">int</td> <td style="text-align:left;">0</td></tr> <tr><td style="text-align:left;">float32</td> <td style="text-align:left;">0</td></tr> <tr><td style="text-align:left;">pointer</td> <td style="text-align:left;">nil</td></tr></tbody></table> <h3 id="数组"><a href="#数组" class="header-anchor">#</a> 数组</h3> <h4 id="声明数组"><a href="#声明数组" class="header-anchor">#</a> 声明数组</h4> <p>Go 语言数组声明需要指定元素类型及元素个数，语法格式如下：</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">var</span> variable_name <span class="token punctuation">[</span>SIZE<span class="token punctuation">]</span> variable_type
</code></pre></div><p>以上为一维数组的定义方式。数组长度必须是整数且大于 0。例如以下定义了数组 balance 长度为 10，类型为 float32：</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">var</span> balance <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span> <span class="token builtin">float32</span>
</code></pre></div><h4 id="初始化数组"><a href="#初始化数组" class="header-anchor">#</a> 初始化数组</h4> <p>以下演示了数组初始化：</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">var</span> balance <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token builtin">float32</span><span class="token punctuation">{</span><span class="token number">1000.0</span><span class="token punctuation">,</span> <span class="token number">2.0</span><span class="token punctuation">,</span> <span class="token number">3.4</span><span class="token punctuation">,</span> <span class="token number">7.0</span><span class="token punctuation">,</span> <span class="token number">50.0</span><span class="token punctuation">}</span>
</code></pre></div><p>初始化数组中 {} 中的元素个数不能大于 [] 中的数字。</p> <p>如果忽略 [] 中的数字不设置数组大小，Go 语言会根据元素的个数来设置数组的大小：</p> <div class="language-go extra-class"><pre class="language-go"><code> <span class="token keyword">var</span> balance <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">float32</span><span class="token punctuation">{</span><span class="token number">1000.0</span><span class="token punctuation">,</span> <span class="token number">2.0</span><span class="token punctuation">,</span> <span class="token number">3.4</span><span class="token punctuation">,</span> <span class="token number">7.0</span><span class="token punctuation">,</span> <span class="token number">50.0</span><span class="token punctuation">}</span>
</code></pre></div><p>该实例与上面的实例是一样的，虽然没有设置数组的大小。</p> <div class="language-go extra-class"><pre class="language-go"><code> balance<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">50.0</span>
</code></pre></div><h4 id="访问数组元素"><a href="#访问数组元素" class="header-anchor">#</a> 访问数组元素</h4> <p>数组元素可以通过索引（位置）来读取。格式为数组名后加中括号，中括号中为索引的值。例如：</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token builtin">float32</span> salary <span class="token operator">=</span> balance<span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">]</span>
</code></pre></div><h3 id="指针"><a href="#指针" class="header-anchor">#</a> 指针</h3> <p>变量是一种使用方便的占位符，用于引用计算机内存地址。</p> <p>Go 语言的取地址符是 &amp;，放到一个变量前使用就会返回相应变量的内存地址。</p> <h4 id="什么是指针"><a href="#什么是指针" class="header-anchor">#</a> 什么是指针</h4> <p>一个指针变量可以指向任何一个值的内存地址。</p> <div class="language-go extra-class"><pre class="language-go"><code> <span class="token keyword">var</span> var_name <span class="token operator">*</span><span class="token keyword">var</span><span class="token operator">-</span><span class="token keyword">type</span> 
</code></pre></div><p>指针使用流程：</p> <ul><li>定义指针变量。</li> <li>为指针变量赋值。</li> <li>访问指针变量中指向地址的值。</li></ul> <h4 id="go-空指针"><a href="#go-空指针" class="header-anchor">#</a> Go 空指针</h4> <p>当一个指针被定义后没有分配到任何变量时，它的值为 nil。</p> <p>nil 指针也称为空指针。</p> <p>nil在概念上和其它语言的null、None、nil、NULL一样，都指代零值或空值。</p> <p>一个指针变量通常缩写为 ptr。</p> <h3 id="结构体"><a href="#结构体" class="header-anchor">#</a> 结构体</h3> <p>结构体是由一系列具有相同类型或不同类型的数据构成的数据集合。</p> <h4 id="定义结构体"><a href="#定义结构体" class="header-anchor">#</a> 定义结构体</h4> <p>结构体定义需要使用 type 和 struct 语句。struct 语句定义一个新的数据类型，结构体中有一个或多个成员。type 语句设定了结构体的名称。结构体的格式如下：</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">type</span> struct_variable_type <span class="token keyword">struct</span> <span class="token punctuation">{</span>
   member definition
   member definition
   <span class="token operator">...</span>
   member definition
<span class="token punctuation">}</span>
</code></pre></div><p>一旦定义了结构体类型，它就能用于变量的声明，语法格式如下：</p> <div class="language-go extra-class"><pre class="language-go"><code>variable_name <span class="token operator">:=</span> structure_variable_type <span class="token punctuation">{</span>value1<span class="token punctuation">,</span> value2<span class="token operator">...</span>valuen<span class="token punctuation">}</span>
</code></pre></div><h4 id="结构体指针"><a href="#结构体指针" class="header-anchor">#</a> 结构体指针</h4> <p>以上定义的指针变量可以存储结构体变量的地址。查看结构体变量地址，可以将 &amp; 符号放置于结构体变量前：</p> <div class="language- extra-class"><pre class="language-text"><code>struct_pointer = &amp;Book1
</code></pre></div><p>使用结构体指针访问结构体成员，使用 &quot;.&quot; 操作符：</p> <div class="language- extra-class"><pre class="language-text"><code>struct_pointer.title
</code></pre></div><h3 id="切片"><a href="#切片" class="header-anchor">#</a> 切片</h3> <p>Go 数组的长度不可改变，在特定场景中这样的集合就不太适用，Go中提供了一种灵活，功能强悍的内置类型切片(&quot;动态数组&quot;),与数组相比切片的长度是不固定的，可以追加元素，在追加时可能使切片的容量增大。</p> <h4 id="定义切片"><a href="#定义切片" class="header-anchor">#</a> 定义切片</h4> <p>你可以声明一个未指定大小的数组来定义切片：</p> <div class="language- extra-class"><pre class="language-text"><code>var identifier []type
</code></pre></div><p>切片不需要说明长度。</p> <p>或使用make()函数来创建切片:</p> <div class="language- extra-class"><pre class="language-text"><code>var slice1 []type = make([]type, len)
</code></pre></div><p>也可以简写为</p> <div class="language- extra-class"><pre class="language-text"><code>slice1 := make([]type, len)
</code></pre></div><p>也可以指定容量，其中capacity为可选参数。</p> <div class="language- extra-class"><pre class="language-text"><code>make([]T, length, capacity)
</code></pre></div><h4 id="len-和-cap-函数"><a href="#len-和-cap-函数" class="header-anchor">#</a> len() 和 cap() 函数</h4> <p>切片是可索引的，并且可以由 len() 方法获取长度。</p> <p>切片提供了计算容量的方法 cap() 可以测量切片最长可以达到多少。</p> <h4 id="空-nil-切片"><a href="#空-nil-切片" class="header-anchor">#</a> 空(nil)切片</h4> <p>一个切片在未初始化之前默认为 nil，长度为 0</p> <h4 id="append-和-copy-函数"><a href="#append-和-copy-函数" class="header-anchor">#</a> append() 和 copy() 函数</h4> <p>增加切片的容量，创建一个新的更大的切片并把原分片的内容都拷贝过来。</p> <p>下面的代码描述了从拷贝切片的 copy 方法和向切片追加新元素的 append 方法。</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">var</span> numbers <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span>
   <span class="token function">printSlice</span><span class="token punctuation">(</span>numbers<span class="token punctuation">)</span>

   <span class="token comment">/* 允许追加空切片 */</span>
   numbers <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>numbers<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
   <span class="token function">printSlice</span><span class="token punctuation">(</span>numbers<span class="token punctuation">)</span>

   <span class="token comment">/* 向切片添加一个元素 */</span>
   numbers <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>numbers<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
   <span class="token function">printSlice</span><span class="token punctuation">(</span>numbers<span class="token punctuation">)</span>

   <span class="token comment">/* 同时添加多个元素 */</span>
   numbers <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>numbers<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span>
   <span class="token function">printSlice</span><span class="token punctuation">(</span>numbers<span class="token punctuation">)</span>

   <span class="token comment">/* 创建切片 numbers1 是之前切片的两倍容量*/</span>
   numbers1 <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>numbers<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token function">cap</span><span class="token punctuation">(</span>numbers<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">)</span>

   <span class="token comment">/* 拷贝 numbers 的内容到 numbers1 */</span>
   <span class="token function">copy</span><span class="token punctuation">(</span>numbers1<span class="token punctuation">,</span>numbers<span class="token punctuation">)</span>
   <span class="token function">printSlice</span><span class="token punctuation">(</span>numbers1<span class="token punctuation">)</span>   
<span class="token punctuation">}</span>
</code></pre></div><h4 id="切片截取"><a href="#切片截取" class="header-anchor">#</a> 切片截取</h4> <p>可以通过设置下限及上限来设置截取切片</p> <div class="language-go extra-class"><pre class="language-go"><code>  <span class="token comment">/* 打印原始切片 */</span>
   fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;numbers ==&quot;</span><span class="token punctuation">,</span> numbers<span class="token punctuation">)</span>

   <span class="token comment">/* 打印子切片从索引1(包含) 到索引4(不包含)*/</span>
   fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;numbers[1:4] ==&quot;</span><span class="token punctuation">,</span> numbers<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

   <span class="token comment">/* 默认下限为 0*/</span>
   fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;numbers[:3] ==&quot;</span><span class="token punctuation">,</span> numbers<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

   <span class="token comment">/* 默认上限为 len(s)*/</span>
   fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;numbers[4:] ==&quot;</span><span class="token punctuation">,</span> numbers<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

   numbers1 <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span>
   <span class="token function">printSlice</span><span class="token punctuation">(</span>numbers1<span class="token punctuation">)</span>

   <span class="token comment">/* 打印子切片从索引  0(包含) 到索引 2(不包含) */</span>
   number2 <span class="token operator">:=</span> numbers<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span>
   <span class="token function">printSlice</span><span class="token punctuation">(</span>number2<span class="token punctuation">)</span>

   <span class="token comment">/* 打印子切片从索引 2(包含) 到索引 5(不包含) */</span>
   number3 <span class="token operator">:=</span> numbers<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">]</span>
   <span class="token function">printSlice</span><span class="token punctuation">(</span>number3<span class="token punctuation">)</span>
</code></pre></div><h3 id="语言范围"><a href="#语言范围" class="header-anchor">#</a> 语言范围</h3> <p>range 关键字用于for循环中迭代数组(array)、切片(slice)、通道(channel)或集合(map)的元素。在数组和切片中它返回元素的索引值，在集合中返回 key-value 对的 key 值。</p> <table><thead><tr><th>Range表达式</th> <th>第一个值</th> <th>第二个值[可选的]</th></tr></thead> <tbody><tr><td>Array 或者 slice a [n]E</td> <td>索引 i int</td> <td>a[i] E</td></tr> <tr><td>String s string type</td> <td>索引 i int</td> <td>rune int</td></tr> <tr><td>map m map[K]V</td> <td>键 k K</td> <td>值 m[k] V</td></tr> <tr><td>channel c chan E</td> <td>元素 e E</td> <td>none</td></tr></tbody></table> <div class="language-go extra-class"><pre class="language-go"><code><span class="token comment">//这是我们使用range去求一个slice的和。使用数组跟这个很类似</span>
    nums <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">}</span>
    sum <span class="token operator">:=</span> <span class="token number">0</span>
    <span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> num <span class="token operator">:=</span> <span class="token keyword">range</span> nums <span class="token punctuation">{</span>
        sum <span class="token operator">+=</span> num
    <span class="token punctuation">}</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;sum:&quot;</span><span class="token punctuation">,</span> sum<span class="token punctuation">)</span>
    <span class="token comment">//在数组上使用range将传入index和值两个变量。上面那个例子我们不需要使用该元素的序号，所以我们使用空白符&quot;_&quot;省略了。有时侯我们确实需要知道它的索引。</span>
    <span class="token keyword">for</span> i<span class="token punctuation">,</span> num <span class="token operator">:=</span> <span class="token keyword">range</span> nums <span class="token punctuation">{</span>
        <span class="token keyword">if</span> num <span class="token operator">==</span> <span class="token number">3</span> <span class="token punctuation">{</span>
            fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;index:&quot;</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//range也可以用在map的键值对上。</span>
    kvs <span class="token operator">:=</span> <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;apple&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;banana&quot;</span><span class="token punctuation">}</span>
    <span class="token keyword">for</span> k<span class="token punctuation">,</span> v <span class="token operator">:=</span> <span class="token keyword">range</span> kvs <span class="token punctuation">{</span>
        fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%s -&gt; %s\n&quot;</span><span class="token punctuation">,</span> k<span class="token punctuation">,</span> v<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//range也可以用来枚举Unicode字符串。第一个参数是字符的索引，第二个是字符（Unicode的值）本身。</span>
    <span class="token keyword">for</span> i<span class="token punctuation">,</span> c <span class="token operator">:=</span> <span class="token keyword">range</span> <span class="token string">&quot;go&quot;</span> <span class="token punctuation">{</span>
        fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> c<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
</code></pre></div><h3 id="map-集合"><a href="#map-集合" class="header-anchor">#</a> Map(集合)</h3> <h4 id="定义-map"><a href="#定义-map" class="header-anchor">#</a> 定义 Map</h4> <p>可以使用内建函数 make 也可以使用 map 关键字来定义 Map:</p> <div class="language- extra-class"><pre class="language-text"><code>/* 声明变量，默认 map 是 nil */
var map_variable map[key_data_type]value_data_type

/* 使用 make 函数 */
map_variable = make(map[key_data_type]value_data_type)
</code></pre></div><div class="language-go extra-class"><pre class="language-go"><code> <span class="token comment">/* 创建集合 */</span>
   countryCapitalMap <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">)</span>
   
   <span class="token comment">/* map 插入 key-value 对，各个国家对应的首都 */</span>
   countryCapitalMap<span class="token punctuation">[</span><span class="token string">&quot;France&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;Paris&quot;</span>
   countryCapitalMap<span class="token punctuation">[</span><span class="token string">&quot;Italy&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;Rome&quot;</span>
   countryCapitalMap<span class="token punctuation">[</span><span class="token string">&quot;Japan&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;Tokyo&quot;</span>
   countryCapitalMap<span class="token punctuation">[</span><span class="token string">&quot;India&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;New Delhi&quot;</span>
   
   <span class="token comment">/* 使用 key 输出 map 值 */</span>
   <span class="token keyword">for</span> country <span class="token operator">:=</span> <span class="token keyword">range</span> countryCapitalMap <span class="token punctuation">{</span>
      fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;Capital of&quot;</span><span class="token punctuation">,</span>country<span class="token punctuation">,</span><span class="token string">&quot;is&quot;</span><span class="token punctuation">,</span>countryCapitalMap<span class="token punctuation">[</span>country<span class="token punctuation">]</span><span class="token punctuation">)</span>
   <span class="token punctuation">}</span>
   
   <span class="token comment">/* 查看元素在集合中是否存在 */</span>
   captial<span class="token punctuation">,</span> ok <span class="token operator">:=</span> countryCapitalMap<span class="token punctuation">[</span><span class="token string">&quot;United States&quot;</span><span class="token punctuation">]</span>
</code></pre></div><h4 id="delete-函数"><a href="#delete-函数" class="header-anchor">#</a> delete() 函数</h4> <p>delete() 函数用于删除集合的元素, 参数为 map 和其对应的 key。</p> <div class="language-go extra-class"><pre class="language-go"><code> <span class="token comment">/* 删除元素 */</span>
   <span class="token function">delete</span><span class="token punctuation">(</span>countryCapitalMap<span class="token punctuation">,</span><span class="token string">&quot;France&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="类型转换"><a href="#类型转换" class="header-anchor">#</a> 类型转换</h3> <p>类型转换用于将一种数据类型的变量转换为另外一种类型的变量。Go 语言类型转换基本格式如下：</p> <div class="language- extra-class"><pre class="language-text"><code>type_name(expression)
</code></pre></div><div class="language-go extra-class"><pre class="language-go"><code> <span class="token keyword">var</span> sum <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">17</span>
 <span class="token keyword">var</span> count <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">5</span>
 <span class="token keyword">var</span> mean <span class="token builtin">float32</span>
 mean <span class="token operator">=</span> <span class="token function">float32</span><span class="token punctuation">(</span>sum<span class="token punctuation">)</span><span class="token operator">/</span><span class="token function">float32</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span>
</code></pre></div><h3 id="接口"><a href="#接口" class="header-anchor">#</a> 接口</h3> <p>把所有的具有共性的方法定义在一起，任何其他类型只要实现了这些方法就是实现了这个接口</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token comment">/* 定义接口 */</span>
<span class="token keyword">type</span> interface_name <span class="token keyword">interface</span> <span class="token punctuation">{</span>
   method_name1 <span class="token punctuation">[</span>return_type<span class="token punctuation">]</span>
   method_name2 <span class="token punctuation">[</span>return_type<span class="token punctuation">]</span>
   method_name3 <span class="token punctuation">[</span>return_type<span class="token punctuation">]</span>
   <span class="token operator">...</span>
   method_namen <span class="token punctuation">[</span>return_type<span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token comment">/* 定义结构体 */</span>
<span class="token keyword">type</span> struct_name <span class="token keyword">struct</span> <span class="token punctuation">{</span>
   <span class="token comment">/* variables */</span>
<span class="token punctuation">}</span>

<span class="token comment">/* 实现接口方法 */</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>struct_name_variable struct_name<span class="token punctuation">)</span> <span class="token function">method_name1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">[</span>return_type<span class="token punctuation">]</span> <span class="token punctuation">{</span>
   <span class="token comment">/* 方法实现 */</span>
<span class="token punctuation">}</span>
<span class="token operator">...</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>struct_name_variable struct_name<span class="token punctuation">)</span> <span class="token function">method_namen</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">[</span>return_type<span class="token punctuation">]</span> <span class="token punctuation">{</span>
   <span class="token comment">/* 方法实现*/</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="错误处理"><a href="#错误处理" class="header-anchor">#</a> 错误处理</h3> <p>error类型是一个接口类型，这是它的定义：</p> <div class="language- extra-class"><pre class="language-text"><code>type error interface {
    Error() string
}
</code></pre></div><h3 id="语言反射"><a href="#语言反射" class="header-anchor">#</a> 语言反射</h3> <p>1、大量使用反射的代码通常会变得难以理解</p> <p>2、反射的性能低下，基于反射的代码会比正常的代码运行速度慢一到两个数量级</p> <h4 id="valueof"><a href="#valueof" class="header-anchor">#</a> ValueOf</h4> <p>ValueOf返回一个初始化为interface接口保管的具体值得Value，ValueOf(nil)返回Value零值</p> <h4 id="typeof"><a href="#typeof" class="header-anchor">#</a> Typeof</h4> <p>Typeof返回接口中保存的值得类型，Typeof(nil)会返回nil</p> <h3 id="并发"><a href="#并发" class="header-anchor">#</a> 并发</h3> <p>Go语言中的并发程序主要是通过基于CSP（communicating sequential processes）的goroutine和channel来实现，当然也支持使用传统的多线程共享内存的并发方式</p> <h4 id="goroutine"><a href="#goroutine" class="header-anchor">#</a> goroutine</h4> <p>Go语言中使用goroutine非常简单，只需要在函数或者方法前面加上go关键字就可以创建一个goroutine，从而让该函数或者方法在新的goroutine中执行</p> <p>匿名函数同样也支持使用go关键字来创建goroutine去执行</p> <p>一个goroutine必定对应一个函数或者方法，可以创建多个goroutine去执行相同的函数或者方法</p> <h4 id="动态栈"><a href="#动态栈" class="header-anchor">#</a> 动态栈</h4> <p>操作系统的线程一般都有固定的栈内存（通常为2MB），而 Go 语言中的 goroutine 非常轻量级，一个 goroutine 的初始栈空间很小（一般为2KB），所以在 Go 语言中一次创建数万个 goroutine 也是可能的。并且 goroutine 的栈不是固定的，可以根据需要动态地增大或缩小， Go 的 runtime 会自动为 goroutine 分配合适的栈空间。</p> <h4 id="goroutine调度"><a href="#goroutine调度" class="header-anchor">#</a> goroutine调度</h4> <p>在经过数个版本迭代之后，目前Go语言的调度器采用的是GPM调度模型</p> <ul><li>G: 表示goroutine，存储了goroutine的执行stack信息、goroutine状态以及goroutine的任务函数等；另外G对象是可以重用的。</li> <li>P: 表示逻辑processor，P的数量决定了系统内最大可并行的G的数量（前提：系统的物理cpu核数&gt;=P的数量）；P的最大作用还是其拥有的各种G对象队列、链表、一些cache和状态。</li> <li>M: M代表着真正的执行计算资源。在绑定有效的p后，进入schedule循环；而schedule循环的机制大致是从各种队列、p的本地队列中获取G，切换到G的执行栈上并执行G的函数，调用goexit做清理工作并回到m，如此反复。M并不保留G状态，这是G可以跨M调度的基础。</li></ul> <h4 id="gomaxprocs"><a href="#gomaxprocs" class="header-anchor">#</a> GOMAXPROCS</h4> <p>Go运行时，调度器使用GOMAXPROCS的参数来决定需要使用多少个OS线程来同时执行Go代码。默认值是当前计算机的CPU核心数。例如在一个8核处理器的电脑上，GOMAXPROCS默认值为8。Go语言中可以使用runtime.GOMAXPROCS()函数设置当前程序并发时占用的CPU核心数</p> <h4 id="channel"><a href="#channel" class="header-anchor">#</a> channel</h4> <p>单纯地将函数并发执行是没有意义的，函数与函数间需要交换数据才能体现并发执行函数的意义</p> <p>虽然可以使用共享内存进行数据交换，但是共享内存在不同的 goroutine 中容易发生竞态问题。为了保证数据交换的正确性，很多并发模型中必须使用互斥锁对内存进行加锁，这种做法势必造成性能问题</p> <p>Go语言采用的并发模型是CSP（Communicating Sequential Processes），提倡通过通信共享内存，而不是通过共享内存而实现通信</p> <p>Go 语言中的通道（channel）是一种特殊的类型。通道像一个传送带或者队列，总是遵循先入先出的规则，保证收发数据的顺序。每一个通道都是一个具体类型的导管，也就是声明channel的时候需要为其指定元素类型。</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/collection/springttt.html" class="prev">
        spring微服务问题
      </a></span> <span class="next"><a href="/collection/linuxorg.html">
        Linux源码及分析
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.e2ddde8e.js" defer></script><script src="/assets/js/2.e74445cb.js" defer></script><script src="/assets/js/20.6a00e35f.js" defer></script>
  </body>
</html>
