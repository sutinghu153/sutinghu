<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>数据库基础 | suting-Blogs</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="分布式博客云笔记">
    
    <link rel="preload" href="/assets/css/0.styles.386f4818.css" as="style"><link rel="preload" href="/assets/js/app.e2ddde8e.js" as="script"><link rel="preload" href="/assets/js/2.e74445cb.js" as="script"><link rel="preload" href="/assets/js/13.78e33ed3.js" as="script"><link rel="prefetch" href="/assets/js/10.383382f2.js"><link rel="prefetch" href="/assets/js/11.79913c72.js"><link rel="prefetch" href="/assets/js/12.18e85316.js"><link rel="prefetch" href="/assets/js/14.92269bd7.js"><link rel="prefetch" href="/assets/js/15.acc92b96.js"><link rel="prefetch" href="/assets/js/16.d8716382.js"><link rel="prefetch" href="/assets/js/17.fa6a1da4.js"><link rel="prefetch" href="/assets/js/18.c5024350.js"><link rel="prefetch" href="/assets/js/19.c3e206a7.js"><link rel="prefetch" href="/assets/js/20.6a00e35f.js"><link rel="prefetch" href="/assets/js/21.37c42ff6.js"><link rel="prefetch" href="/assets/js/22.abd1537f.js"><link rel="prefetch" href="/assets/js/23.6a041ee1.js"><link rel="prefetch" href="/assets/js/24.ab067683.js"><link rel="prefetch" href="/assets/js/25.a2de42cd.js"><link rel="prefetch" href="/assets/js/26.efa7caf3.js"><link rel="prefetch" href="/assets/js/27.1520ec85.js"><link rel="prefetch" href="/assets/js/28.be40ede1.js"><link rel="prefetch" href="/assets/js/29.5e42d4f2.js"><link rel="prefetch" href="/assets/js/3.fbcd2674.js"><link rel="prefetch" href="/assets/js/30.eae39a3c.js"><link rel="prefetch" href="/assets/js/31.63618f89.js"><link rel="prefetch" href="/assets/js/32.43b53339.js"><link rel="prefetch" href="/assets/js/33.931d2183.js"><link rel="prefetch" href="/assets/js/34.e7f37503.js"><link rel="prefetch" href="/assets/js/35.6302af3d.js"><link rel="prefetch" href="/assets/js/36.7aec4478.js"><link rel="prefetch" href="/assets/js/37.58461b9d.js"><link rel="prefetch" href="/assets/js/38.811a26e0.js"><link rel="prefetch" href="/assets/js/39.c3d07ac9.js"><link rel="prefetch" href="/assets/js/4.23df146b.js"><link rel="prefetch" href="/assets/js/40.b2c32317.js"><link rel="prefetch" href="/assets/js/41.368ac455.js"><link rel="prefetch" href="/assets/js/42.d68c9491.js"><link rel="prefetch" href="/assets/js/43.74a44b32.js"><link rel="prefetch" href="/assets/js/44.633f2e2b.js"><link rel="prefetch" href="/assets/js/45.eab6bf9b.js"><link rel="prefetch" href="/assets/js/46.3ddc24a7.js"><link rel="prefetch" href="/assets/js/5.4c581b45.js"><link rel="prefetch" href="/assets/js/6.27888615.js"><link rel="prefetch" href="/assets/js/7.e23a1d77.js"><link rel="prefetch" href="/assets/js/8.928501ca.js"><link rel="prefetch" href="/assets/js/9.0b4be001.js">
    <link rel="stylesheet" href="/assets/css/0.styles.386f4818.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">suting-Blogs</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  home
</a></div><div class="nav-item"><a href="https://javaguide.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JavaGuide
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://home.code-nav.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  code-nav
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/sutinghu153" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://mp.weixin.qq.com/mp/profile_ext?action=home&amp;__biz=MzA5ODI3NTI1OA==&amp;scene=124#wechat_redirect" target="_blank" rel="noopener noreferrer" class="nav-link external">
  WK听潮
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/itdevbooks/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  book
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://beian.miit.gov.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  湘ICP备2021013988号-1
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  home
</a></div><div class="nav-item"><a href="https://javaguide.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JavaGuide
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://home.code-nav.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  code-nav
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/sutinghu153" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://mp.weixin.qq.com/mp/profile_ext?action=home&amp;__biz=MzA5ODI3NTI1OA==&amp;scene=124#wechat_redirect" target="_blank" rel="noopener noreferrer" class="nav-link external">
  WK听潮
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/itdevbooks/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  book
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://beian.miit.gov.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  湘ICP备2021013988号-1
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>个人项目</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>C/C++/Java/Golang</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Linux内核</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Linux系统开发</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Linux/Makefile/Shell</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>区块链</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>数据结构</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>设计模式</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>计算机视觉</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>计算机基础</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>中间件</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>算法</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>常用命令</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>数据库</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/collection/db_sql_base.html" aria-current="page" class="active sidebar-link">数据库基础</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/collection/db_sql_base.html#基本认识" class="sidebar-link">基本认识</a></li><li class="sidebar-sub-header"><a href="/collection/db_sql_base.html#sql" class="sidebar-link">SQL</a></li><li class="sidebar-sub-header"><a href="/collection/db_sql_base.html#sql通用语法" class="sidebar-link">SQL通用语法</a></li><li class="sidebar-sub-header"><a href="/collection/db_sql_base.html#ddl-定义数据库对象" class="sidebar-link">DDL---定义数据库对象</a></li><li class="sidebar-sub-header"><a href="/collection/db_sql_base.html#dml-增删改表中的数据" class="sidebar-link">DML---增删改表中的数据</a></li><li class="sidebar-sub-header"><a href="/collection/db_sql_base.html#dql-查询语句" class="sidebar-link">DQL---查询语句</a></li><li class="sidebar-sub-header"><a href="/collection/db_sql_base.html#约束" class="sidebar-link">约束</a></li><li class="sidebar-sub-header"><a href="/collection/db_sql_base.html#多表之间的关系" class="sidebar-link">多表之间的关系</a></li><li class="sidebar-sub-header"><a href="/collection/db_sql_base.html#范式-遵循的规范" class="sidebar-link">范式---遵循的规范</a></li><li class="sidebar-sub-header"><a href="/collection/db_sql_base.html#数据库的备份和还原" class="sidebar-link">数据库的备份和还原</a></li><li class="sidebar-sub-header"><a href="/collection/db_sql_base.html#事务" class="sidebar-link">事务</a></li><li class="sidebar-sub-header"><a href="/collection/db_sql_base.html#事务的四大特征" class="sidebar-link">事务的四大特征</a></li><li class="sidebar-sub-header"><a href="/collection/db_sql_base.html#事务的隔离级别" class="sidebar-link">事务的隔离级别</a></li><li class="sidebar-sub-header"><a href="/collection/db_sql_base.html#dcl-管理用户" class="sidebar-link">DCL----管理用户</a></li></ul></li><li><a href="/collection/sql.html" class="sidebar-link">数据库常用总结</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>系统部署</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="数据库基础"><a href="#数据库基础" class="header-anchor">#</a> 数据库基础</h1> <h2 id="基本认识"><a href="#基本认识" class="header-anchor">#</a> 基本认识</h2> <p>数据库的英文名称：DataBase 简称DB</p> <h3 id="什么是数据库"><a href="#什么是数据库" class="header-anchor">#</a> 什么是数据库</h3> <p>​	用于存储和管理数据的仓库</p> <h3 id="数据的特点"><a href="#数据的特点" class="header-anchor">#</a> 数据的特点</h3> <ul><li>持久化存储数据，其实数据库就是一个文件系统。</li> <li>方便的进行数据的管理。</li> <li>使用了统一的方式操作数据库---SQL</li></ul> <h3 id="常见数据库"><a href="#常见数据库" class="header-anchor">#</a> 常见数据库</h3> <ul><li><p>sqlserver——微软数据库 对Java的兼容性不高 性能高</p></li> <li><p>oracle——性能优良 收费</p></li> <li><p>DB2——IBM生产大型机器 性能不高</p></li> <li><p>Mysql——性能优良 免费</p></li> <li><p>配置
MySQL服务---启动数据库服务的命令services.msc
net stop MySQL
net start MySQL</p></li> <li><p>MySQL登录和退出的方式
登录MySQL -uroot -proot
推出exit quit</p></li> <li><p>MySQL目录结构
1.安装目录
my.ini
2.数据目录
数据库---文件夹
表---文件
数据---内容</p></li></ul> <h2 id="sql"><a href="#sql" class="header-anchor">#</a> SQL</h2> <h3 id="什么是sql"><a href="#什么是sql" class="header-anchor">#</a> 什么是SQL？</h3> <p>​	定义了一种所有操作关系型数据库的规则，是结构化查询语言。
​	方言：不同数据库中操作数据库的特有的方法。</p> <h3 id="什么是关系型数据库"><a href="#什么是关系型数据库" class="header-anchor">#</a> 什么是关系型数据库？</h3> <ul><li>​	关系型数据库，是指采用了关系模型来组织数据的数据库，其以行和列的形式存储数据，以便于用户理解，关系型数据库这一系列的行和列被称为表，一组表组成了数据库。</li> <li>用户通过查询来检索数据库中的数据，而查询是一个用于限定数据库中某些区域的执行代码。</li> <li>关系模型可以简单理解为二维表格模型，而一个关系型数据库就是由二维表及其之间的关系组成的一个数据组织。</li></ul> <h2 id="sql通用语法"><a href="#sql通用语法" class="header-anchor">#</a> SQL通用语法</h2> <ul><li><p>语句以分号结束 可以单行或多行进行</p></li> <li><p>可使用空格和缩进提高可读性</p></li> <li><p>建议用大写 数据库不区分大小写</p></li> <li><p>注释：
单行注释：
-- 注释内容
多行注释：
/*	注释内容  	*/</p></li> <li><p>SQL分类</p> <p>​	DDL:数据定义语言，用来定义数据库对象
​	DML:数据库操作语言，用来对数据库对象进行增删查改
​	DQL:用来查询数据库中的表的记录
​	DCL：数据控制语言</p></li></ul> <h2 id="ddl-定义数据库对象"><a href="#ddl-定义数据库对象" class="header-anchor">#</a> DDL---定义数据库对象</h2> <h3 id="操作数据库-crud"><a href="#操作数据库-crud" class="header-anchor">#</a> 操作数据库：CRUD</h3> <h4 id="_1-create-创建数据库"><a href="#_1-create-创建数据库" class="header-anchor">#</a> 1.Create：创建数据库</h4> <p>​		  *创建一个数据库
​		  	  creata database 数据库名称；
​		   * 添加判断条件
create database if not exists db1
（如果不存在db1数据时，创建新的数据库，否则不创建）
​			 *创建指定字符集的数据库
​				 create database db3 character set utf8;</p> <h4 id="_2-retrieve-查询数据库"><a href="#_2-retrieve-查询数据库" class="header-anchor">#</a> 2.Retrieve：查询数据库</h4> <p>​		*查询所有数据的名称
​			show databases;
​		*查询某个数据库的字符集
​			 show create database mysql;</p> <h4 id="_3-updata-更新数据库"><a href="#_3-updata-更新数据库" class="header-anchor">#</a> 3.Updata：更新数据库</h4> <p>​			alter database db3 character set gbk;</p> <h4 id="_4-delete-删除数据库"><a href="#_4-delete-删除数据库" class="header-anchor">#</a> 4.Delete：删除数据库</h4> <p>​			drop database 数据库名称；
​			判断数据库是否存在
​			drop database if exists 数据库名称；</p> <h3 id="使用数据库"><a href="#使用数据库" class="header-anchor">#</a> 使用数据库</h3> <p>​			查询当前正在使用的数据库名称：
​			select database();
​			使用数据库
​			mysql&gt; use mysql;
​			Database changed</p> <h3 id="操作表-crud"><a href="#操作表-crud" class="header-anchor">#</a> 操作表：CRUD</h3> <h4 id="_1-create-创建"><a href="#_1-create-创建" class="header-anchor">#</a> 1.create:创建</h4> <p>​		create 表名（列名称 列对应的类型，列。。。）；
​		create table mytable(age int);</p> <h4 id="_2retrieve-查询"><a href="#_2retrieve-查询" class="header-anchor">#</a> 2retrieve:查询</h4> <p>​		show tables;查询所有表
​		desc 表名称；查询表结构</p> <h4 id="_3-updata-更新"><a href="#_3-updata-更新" class="header-anchor">#</a> 3.updata:更新</h4> <p>​		1.修改表名
​			alter table 表名 rename to 新的表名称；
​		2.修改字符集
​			alter table 表名 character set 字符集；
​		3.添加列
​			alter table 表名 add 列名 数据类型；
​		4.修改列的名称、类型
​			alter table 表名 change 旧列名 新列名称 数据类型；
​		5.删除列
​			alter table drop 列名；</p> <h4 id="_4-delete-删除"><a href="#_4-delete-删除" class="header-anchor">#</a> 4.delete:删除</h4> <p>​		drop table 表名；
​		drop table if exists 表名；</p> <h2 id="dml-增删改表中的数据"><a href="#dml-增删改表中的数据" class="header-anchor">#</a> DML---增删改表中的数据</h2> <h3 id="_1-添加数据"><a href="#_1-添加数据" class="header-anchor">#</a> 1.添加数据</h3> <div class="language-sql extra-class"><pre class="language-sql"><code>	<span class="token keyword">insert</span> <span class="token keyword">into</span> 表名（列名<span class="token number">1</span>，列名<span class="token number">2</span>，，，，，列名n）<span class="token keyword">values</span>（值<span class="token number">1</span>，值<span class="token number">2</span>，，，，，值n）
	<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> mytable <span class="token punctuation">(</span>ages<span class="token punctuation">,</span>score<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_2-删除数据"><a href="#_2-删除数据" class="header-anchor">#</a> 2.删除数据</h3> <div class="language-sql extra-class"><pre class="language-sql"><code>	<span class="token keyword">delete</span> <span class="token keyword">from</span> 表名 <span class="token punctuation">[</span><span class="token keyword">where</span> 条件<span class="token punctuation">]</span>；从表中根据某个条件删除某个值
	<span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> mytable <span class="token keyword">WHERE</span> <span class="token punctuation">(</span>ages<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">---有多少条记录有多少次删除</span>
	<span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> mytable <span class="token keyword">WHERE</span> <span class="token punctuation">(</span>ages<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>删除原来的表，创建一个一模一样的新空表
</code></pre></div><h3 id="_3-修改数据"><a href="#_3-修改数据" class="header-anchor">#</a> 3.修改数据</h3> <div class="language-sql extra-class"><pre class="language-sql"><code>updata 表名 <span class="token keyword">set</span> 列名<span class="token number">1</span> <span class="token operator">=</span> 值<span class="token number">1</span>，列名<span class="token number">2</span> <span class="token operator">=</span> 值<span class="token number">2</span>，，，列名n <span class="token operator">=</span> 值n<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token keyword">where</span> 条件<span class="token punctuation">]</span>；
	<span class="token keyword">UPDATE</span> mytable <span class="token keyword">SET</span> ages <span class="token operator">=</span> <span class="token number">81</span><span class="token punctuation">,</span>score <span class="token operator">=</span> <span class="token number">115</span> <span class="token keyword">WHERE</span> ages <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="dql-查询语句"><a href="#dql-查询语句" class="header-anchor">#</a> DQL---查询语句</h2> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span><span class="token keyword">from</span> 表名
<span class="token keyword">SELECT</span> <span class="token operator">*</span><span class="token keyword">FROM</span> mytable<span class="token punctuation">;</span> 	
</code></pre></div><h3 id="_1-排序查询"><a href="#_1-排序查询" class="header-anchor">#</a> 1.排序查询</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">order</span> <span class="token keyword">by</span> 排序字段，排序方式（可多个字段叠加使用）
	<span class="token keyword">SELECT</span> <span class="token operator">*</span><span class="token keyword">FROM</span> mytable <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> score<span class="token punctuation">;</span>
		<span class="token keyword">ASC</span>升序<span class="token comment">---SELECT *FROM mytable ORDER BY score ASC;</span>
		<span class="token keyword">DESC</span>降序<span class="token comment">---SELECT *FROM mytable ORDER BY score DESC;</span>
		<span class="token keyword">SELECT</span> <span class="token operator">*</span><span class="token keyword">FROM</span> mytable <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> ages <span class="token keyword">ASC</span><span class="token punctuation">,</span>score <span class="token keyword">DESC</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_2-聚合函数-排除空值-不计算null值"><a href="#_2-聚合函数-排除空值-不计算null值" class="header-anchor">#</a> 2.聚合函数---排除空值，不计算null值</h3> <div class="language-sql extra-class"><pre class="language-sql"><code>将一列数据作为一个整体，进行纵向的计算。
		count 计算个数
			<span class="token keyword">SELECT</span> <span class="token function">COUNT</span><span class="token punctuation">(</span>ages<span class="token punctuation">)</span> <span class="token keyword">FROM</span> mytable<span class="token punctuation">;</span>
		max 计算最大值
			<span class="token keyword">SELECT</span> <span class="token function">MAX</span><span class="token punctuation">(</span>ages<span class="token punctuation">)</span> <span class="token keyword">FROM</span> mytable<span class="token punctuation">;</span>
		min计算最小值
			<span class="token keyword">SELECT</span> <span class="token function">MIN</span><span class="token punctuation">(</span>ages<span class="token punctuation">)</span> <span class="token keyword">FROM</span> mytable<span class="token punctuation">;</span>
		sum计算和求和
			<span class="token keyword">SELECT</span> <span class="token function">SUM</span><span class="token punctuation">(</span>ages<span class="token punctuation">)</span> <span class="token keyword">FROM</span> mytable<span class="token punctuation">;</span>
		avg计算平均值
			<span class="token keyword">SELECT</span> <span class="token function">AVG</span><span class="token punctuation">(</span>ages<span class="token punctuation">)</span> <span class="token keyword">FROM</span> mytable<span class="token punctuation">;</span>
</code></pre></div><h3 id="_3-分组查询"><a href="#_3-分组查询" class="header-anchor">#</a> 3.分组查询</h3> <div class="language-sql extra-class"><pre class="language-sql"><code>	<span class="token keyword">group</span> <span class="token keyword">by</span>分组字段【分组之后查询的字段是分组字段或聚合函数】
	<span class="token keyword">SELECT</span> ages <span class="token punctuation">,</span><span class="token function">AVG</span><span class="token punctuation">(</span>score<span class="token punctuation">)</span><span class="token keyword">FROM</span> mytable <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> ages<span class="token punctuation">;</span>
	<span class="token keyword">having</span>：查询句柄，分组之后进行限定，如果不满足，则不会被查询出来。聚合函数之后可以跟。
	<span class="token keyword">where</span>：在分组之前进行限定，<span class="token keyword">where</span>之后不可以跟聚合函数。
</code></pre></div><h3 id="_4-分页查询"><a href="#_4-分页查询" class="header-anchor">#</a> 4.分页查询</h3> <p>​	limit 开始的索引 ，每页查询的条数；SELECT *FROM mytable LIMIT 0,3;【0，3）前包后不包</p> <h3 id="_5-基础查询"><a href="#_5-基础查询" class="header-anchor">#</a> 5.基础查询</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span>
		字段列表
	<span class="token keyword">from</span>
		表名列表
	<span class="token keyword">where</span>
		条件列表；
	<span class="token keyword">group</span> <span class="token keyword">by</span>
		分组字段；
	<span class="token keyword">having</span>
		分组之后的条件；
	<span class="token keyword">order</span> <span class="token keyword">by</span>
		排序；
	<span class="token keyword">limit</span>
		分页查询；
	<span class="token keyword">distinct</span><span class="token comment">---去除重复的字段；</span>
	<span class="token operator">&gt;</span><span class="token punctuation">,</span>	<span class="token operator">&lt;</span><span class="token punctuation">,</span>	<span class="token operator">=</span><span class="token punctuation">,</span>	<span class="token operator">!=</span><span class="token punctuation">,</span>	<span class="token operator">&lt;=</span><span class="token punctuation">,</span>	<span class="token operator">&gt;=</span><span class="token punctuation">;</span>
	<span class="token operator">AND</span>
	<span class="token operator">between</span> <span class="token operator">and</span>
</code></pre></div><h3 id="_6-模糊查询"><a href="#_6-模糊查询" class="header-anchor">#</a> 6.模糊查询</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token operator">like</span>
	<span class="token keyword">select</span> <span class="token operator">*</span><span class="token keyword">from</span> student <span class="token keyword">where</span> name <span class="token operator">like</span> ‘马’；_ 表示字符的位 ，<span class="token operator">%</span>表示一个字符
</code></pre></div><h2 id="约束"><a href="#约束" class="header-anchor">#</a> 约束</h2> <div class="language-sql extra-class"><pre class="language-sql"><code>对表中的数据进行限定，保证数据的正确性，有效性和完整性。
	主键约束primay <span class="token keyword">key</span>
		代表非空且唯一
		一张表只能有一个主键
		主键是表的唯一标识
		创建表时添加主键约束
		<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> stu1<span class="token punctuation">(</span>
	     id <span class="token keyword">INT</span><span class="token punctuation">,</span>
	     NAME <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>  primay <span class="token keyword">key</span>
	   <span class="token punctuation">)</span><span class="token punctuation">;</span>
	  
	非空约束<span class="token operator">not</span> <span class="token boolean">null</span>
		<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> stu1<span class="token punctuation">(</span>
			 id <span class="token keyword">INT</span><span class="token punctuation">,</span>
			 NAME <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span>
		<span class="token punctuation">)</span><span class="token punctuation">;</span>
	唯一约束<span class="token keyword">unique</span>
		<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> stu3<span class="token punctuation">(</span>
			 id <span class="token keyword">INT</span><span class="token punctuation">,</span>
			 NAME <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token keyword">UNIQUE</span><span class="token comment">----同一个表中该值只能有一个</span>
			<span class="token punctuation">)</span><span class="token punctuation">;</span>
	外键约束<span class="token keyword">foreign</span> <span class="token keyword">key</span>
		解决数据冗余的问题。让两个表中的数据记录产生唯一关联。
</code></pre></div><h2 id="多表之间的关系"><a href="#多表之间的关系" class="header-anchor">#</a> 多表之间的关系</h2> <p>数据库设计</p> <h3 id="_1-一对一"><a href="#_1-一对一" class="header-anchor">#</a> 1.一对一</h3> <p>​	人和身份证
​	一个表的主键指向另外一个表的外键</p> <h3 id="_2-一对多"><a href="#_2-一对多" class="header-anchor">#</a> 2.一对多</h3> <p>​	部门和员工的关系
​	一个部门有多个员工，一个员工只能有一个部门
​	在多的一方建立外键，指向一的一方的主键，外键要唯一</p> <h3 id="_3-多对多"><a href="#_3-多对多" class="header-anchor">#</a> 3.多对多</h3> <p>​	学生和课程，一个学生有很多课程，一个课程可以被很多学生选择
​	借助第三张表，第三章表的字段作为外键分别指向另外的表的主键</p> <h2 id="范式-遵循的规范"><a href="#范式-遵循的规范" class="header-anchor">#</a> 范式---遵循的规范</h2> <p>设计关系数据库的合理范式。</p> <h3 id="第一范式"><a href="#第一范式" class="header-anchor">#</a> 第一范式</h3> <p>每一列都是不可分割的原子项</p> <h3 id="第二范式"><a href="#第二范式" class="header-anchor">#</a> 第二范式</h3> <p>在第一范式的基础上，非属性码依赖候选码
函数依赖：通过A的值来确定B
完全函数依赖：通过一个组A的所有组成的值来确定B
部分函数依赖：通过一个组A的部分组成的值来确定B
传递函数依赖：通过一个值A来确定B,再通过B来确定C
码——被完全依赖的属性称为码
主属性：码属性
非主属性：非码属性集合</p> <h3 id="第三范式"><a href="#第三范式" class="header-anchor">#</a> 第三范式</h3> <p>在第二范式的基础上</p> <h2 id="数据库的备份和还原"><a href="#数据库的备份和还原" class="header-anchor">#</a> 数据库的备份和还原</h2> <div class="language- extra-class"><pre><code>对数据库进行备份，防止数据库出现问题。
</code></pre></div><h2 id="事务"><a href="#事务" class="header-anchor">#</a> 事务</h2> <p>如果一个包含多个业务的操作，被事务管理，那么这些操作要么同时成功，要么同时失败。
开启事务：start transaction
事务回滚：rollback
提交事务：commit
mysql数据库中默认自动提交：
一条DML数据语句会自动提交一次事务。
@@autocommit----1，自动提交，0手动提交
set @@sutocommit=0；自动提交</p> <h2 id="事务的四大特征"><a href="#事务的四大特征" class="header-anchor">#</a> 事务的四大特征</h2> <h3 id="_1-原子性"><a href="#_1-原子性" class="header-anchor">#</a> 1.原子性</h3> <p>事务是原子性的，不可分割的最小操作单位，要么同时成功，要么同时失败。</p> <h3 id="_2-持久性"><a href="#_2-持久性" class="header-anchor">#</a> 2.持久性</h3> <p>当事务提交或回滚后，数据库会持久化的保存数据。</p> <h3 id="_3-隔离性"><a href="#_3-隔离性" class="header-anchor">#</a> 3.隔离性</h3> <p>多个事务之间，相互独立。</p> <h3 id="_4-一致性"><a href="#_4-一致性" class="header-anchor">#</a> 4.一致性</h3> <p>事务操作前后，数据的总量不变。</p> <h2 id="事务的隔离级别"><a href="#事务的隔离级别" class="header-anchor">#</a> 事务的隔离级别</h2> <p>多个事务之间隔离的，相互独立的，但是如果多个事务操作同一批数据，就会有一些问题，</p> <p>设置不同的隔离级别能够解决这些问题。</p> <h3 id="存在问题"><a href="#存在问题" class="header-anchor">#</a> 存在问题：</h3> <p>​	脏读：一个事务读取到另一个事务中没有提交的数据称为脏读。
​	不可重复读：在同一个事务中，两次读到的数据不一样。
​	幻读：一个事务操作数据表中的所有记录，另一个事务添加了一条数据，则第一个事务查询不到自己的修改。</p> <h3 id="隔离级别"><a href="#隔离级别" class="header-anchor">#</a> 隔离级别：</h3> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">read</span> <span class="token keyword">uncommitted</span>：读未提交
		脏读，虚读，幻读
	<span class="token keyword">read</span> commited：读已提交
		虚读、幻读
	<span class="token keyword">repeatable</span> <span class="token keyword">read</span>：可重复读
		虚读、幻读
	<span class="token keyword">serializable</span>：串行读
		可以解决所有问题
	注意：隔离级别从小到大，安全性越来越高，效率越来越低
数据库设置隔离级别：
	<span class="token keyword">select</span> @<span class="token variable">@tx_isolation</span>查询隔离级别
	<span class="token keyword">set</span> <span class="token keyword">global</span> <span class="token keyword">transaction</span> <span class="token keyword">isolation</span> <span class="token keyword">level</span> 级别字符串；设置隔离级别
</code></pre></div><h2 id="dcl-管理用户"><a href="#dcl-管理用户" class="header-anchor">#</a> DCL----管理用户</h2> <h3 id="_1-管理用户"><a href="#_1-管理用户" class="header-anchor">#</a> 1.管理用户</h3> <h4 id="_1-添加用户"><a href="#_1-添加用户" class="header-anchor">#</a> 1.添加用户</h4> <div class="language-sql extra-class"><pre class="language-sql"><code>	<span class="token comment">-- 创建用户</span>
		<span class="token keyword">CREATE</span> <span class="token keyword">USER</span> <span class="token string">'用户名'</span><span class="token variable">@'主机名'</span>IDENTIFIED <span class="token keyword">BY</span> <span class="token string">'密码'</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="_2-删除用户"><a href="#_2-删除用户" class="header-anchor">#</a> 2.删除用户</h4> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">DROP</span> <span class="token keyword">USER</span> <span class="token string">'用户名'</span><span class="token variable">@'主机名'</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="_3-修改用户"><a href="#_3-修改用户" class="header-anchor">#</a> 3.修改用户</h4> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 修改密码</span>
		<span class="token keyword">UPDATE</span> <span class="token keyword">USER</span> <span class="token keyword">SET</span> PASSWORD <span class="token operator">=</span> PASSWORD<span class="token punctuation">(</span><span class="token string">'新密码'</span><span class="token punctuation">)</span><span class="token keyword">WHERE</span> <span class="token keyword">USER</span> <span class="token operator">=</span> <span class="token string">'用户名'</span><span class="token punctuation">;</span>
		<span class="token keyword">SET</span> PASSWORD <span class="token keyword">FOR</span> <span class="token string">'用户名'</span><span class="token variable">@'主机名'</span> <span class="token operator">=</span> PASSWORD <span class="token punctuation">(</span><span class="token string">'新密码'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="_4-查询用户"><a href="#_4-查询用户" class="header-anchor">#</a> 4.查询用户</h4> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- 切换到MySQL数据库</span>
		<span class="token keyword">USE</span> mysql<span class="token punctuation">;</span>
		<span class="token comment">-- 查询user表</span>
		<span class="token keyword">SELECT</span> <span class="token operator">*</span><span class="token keyword">FROM</span> <span class="token keyword">USER</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_2-权限授予"><a href="#_2-权限授予" class="header-anchor">#</a> 2.权限授予</h3> <h4 id="_1-查询权限"><a href="#_1-查询权限" class="header-anchor">#</a> 1.查询权限</h4> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SHOW</span> GRANTS <span class="token keyword">FOR</span> <span class="token string">'root'</span><span class="token variable">@'localhost'</span>
</code></pre></div><h4 id="_2-授予权限"><a href="#_2-授予权限" class="header-anchor">#</a> 2.授予权限</h4> <div class="language-sql extra-class"><pre class="language-sql"><code>	<span class="token keyword">GRANT</span> <span class="token keyword">SELECT</span><span class="token punctuation">,</span><span class="token keyword">DELETE</span><span class="token punctuation">,</span><span class="token keyword">UPDATE</span> <span class="token keyword">ON</span> <span class="token punctuation">`</span>db3<span class="token punctuation">`</span><span class="token punctuation">.</span><span class="token punctuation">`</span>mytable<span class="token punctuation">`</span> <span class="token keyword">TO</span> <span class="token string">'root'</span><span class="token variable">@'localhost'</span><span class="token punctuation">;</span>
		<span class="token keyword">GRANT</span> <span class="token keyword">ALL</span> <span class="token keyword">ON</span> <span class="token punctuation">`</span>db3<span class="token punctuation">`</span><span class="token punctuation">.</span><span class="token punctuation">`</span>mytable<span class="token punctuation">`</span> <span class="token keyword">TO</span> <span class="token string">'root'</span><span class="token variable">@'localhost'</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="_3-撤销权限"><a href="#_3-撤销权限" class="header-anchor">#</a> 3.撤销权限</h4> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">REVOKE</span> <span class="token keyword">UPDATE</span> <span class="token keyword">ON</span> <span class="token punctuation">`</span>db3<span class="token punctuation">`</span><span class="token punctuation">.</span><span class="token punctuation">`</span>mytable<span class="token punctuation">`</span> <span class="token keyword">FROM</span> <span class="token string">'root'</span><span class="token variable">@'localhost'</span><span class="token punctuation">;</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/collection/gitml.html" class="prev">
        常用命令
      </a></span> <span class="next"><a href="/collection/sql.html">
        数据库常用总结
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.e2ddde8e.js" defer></script><script src="/assets/js/2.e74445cb.js" defer></script><script src="/assets/js/13.78e33ed3.js" defer></script>
  </body>
</html>
